const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdf-B7oVat64-BQLlJ_4B.js","assets/html2canvas.esm-d2sM-0Wm-tnAx6l3B.js","assets/index-BycDDJRD.js","assets/index-BNsGjw5K.css","assets/img-DGzWcJ4Y-CkddiW4e.js"])))=>i.map(i=>d[i]);
import{t as ye,c as E,r as B,D as pe,Y as Ne,w as ge,K as Ie,j as ue,Q as Ae,o as _e,G as ne,a7 as Ce,a8 as Le,g as i,i as s,m as W,u as le,v as ie,y as _,B as p,P as $,l as u,x as T,Z as We,A as de,C as he,a9 as xe,F as k,E as A,O as oe,f as se,k as J,a6 as Re,R as we,e as ce,q as Se,b as Oe,n as De,M as Ge,N as $e,z as Z,p as ze,s as q,aa as K,ab as Ee,ac as Be,U as He,ad as ke,a2 as ae,ae as me,af as Ye,ag as je,ah as Xe,$ as qe,ai as Ue,a4 as Ze,aj as Je,ak as Qe,al as Ke,a3 as et,am as tt,an as at,ao as lt,ap as it,aq as st}from"./index-BycDDJRD.js";import{W as ot}from"./DataTable-BI1tjiA_-Du-0AlA7.js";import{s as Fe,c as re,O as rt,k as nt,p as Me,C as Pe,r as dt,u as Te,b as Ve,a as ht,R as ct,x as ut,$ as gt}from"./useResponsive-CoxXLe23-DPVWYRx4.js";import{N as pt,E as ft}from"./Tooltip-CPlG_yQU-BYcXK_XT.js";import{_ as bt}from"./Slicer-DFPDip5U-BoPuf2Id.js";const vt=["id"],mt=["xmlns","viewBox"],xt=["id"],yt=["stop-color"],Nt=["stop-color"],It=["id"],Ft=["stop-color"],kt=["stop-color"],At=["id"],_t=["stop-color"],Ct=["stop-color"],Lt={key:0},wt=["d","fill"],St=["d","fill"],Ot=["d","stroke","stroke-width"],Gt=["x1","x2","y1","y2","stroke","stroke-width"],$t=["x","y","width","height","fill","rx"],zt=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],Mt=["x1","x2","y1","y2","stroke","stroke-dasharray","stroke-width"],Pt=["cx","cy","r","fill","stroke","stroke-width"],Tt=["x","y","font-size","font-weight","fill"],Vt=["x","y","height","width","onMouseenter","onClick"],Wt={__name:"vue-ui-sparkline",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}},showInfo:{type:Boolean,default:!0},selectedIndex:{type:Number,default:void 0}},emits:["hoverIndex","selectDatapoint"],setup(t,{emit:n}){const c=t,{vue_ui_sparkline:v}=ye(),a=E(()=>!!c.dataset&&c.dataset.length),e=B(pe()),C=B(null),o=B(null),N=B(null),h=E({get:()=>R(),set:y=>y});function R(){const y=re({userConfig:c.config,defaultConfig:v});return y.theme?{...re({userConfig:Ne.vue_ui_sparkline[y.theme]||c.config,defaultConfig:y})}:y}ge(()=>c.config,y=>{h.value=R(),w(),x.value.chartWidth=h.value.style.chartWidth},{deep:!0}),ge(()=>c.dataset,y=>{z.value=c.dataset.map(M=>({...M,value:[void 0].includes(M.value)?null:M.value}))},{deep:!0});const z=B(D());function D(){return c.dataset.map(y=>h.value.style.animation.show?{...y,value:null}:{...y,value:[void 0].includes(y.value)?null:y.value})}const H=B(null);_e(()=>{if(w(),h.value.style.animation.show&&c.dataset.length>1){let y=function(){I<c.dataset.length?(z.value.push(c.dataset[I]),setTimeout(()=>{requestAnimationFrame(y)},M)):z.value=c.dataset,I+=1};z.value=[];const M=h.value.style.animation.animationFrames/c.dataset.length;let I=0;y()}});function w(){if(Ie(c.dataset)?ue({componentName:"VueUiSparkline",type:"dataset"}):c.dataset.forEach((y,M)=>{Ae({datasetObject:y,requiredAttributes:["period","value"]}).forEach(I=>{ue({componentName:"VueUiSparkline",type:"datasetSerieAttribute",property:I,index:M})})}),h.value.responsive){const y=rt(()=>{const{width:M,height:I}=nt({chart:C.value,title:h.value.style.title.show&&c.showInfo?o.value:null,source:N.value});x.value.width=M,x.value.height=I,x.value.chartWidth=h.value.style.chartWidth/500*M,x.value.padding=.06*M});H.value=new ResizeObserver(y),H.value.observe(C.value.parentNode)}}const x=B({height:80,width:500,chartWidth:h.value.style.chartWidth,padding:30}),j=B(6),L=E(()=>({top:12,left:0,right:x.value.width,bottom:x.value.height-3,start:c.showInfo&&h.value.style.dataLabel.show&&h.value.style.dataLabel.position==="left"?x.value.width-x.value.chartWidth:x.value.padding,width:c.showInfo&&h.value.style.dataLabel.show?x.value.chartWidth:x.value.width-x.value.padding,height:x.value.height-12})),l=E(()=>Math.min(...z.value.map(y=>isNaN(y.value)||[void 0,null,"NaN",NaN,1/0,-1/0].includes(y.value)?0:y.value||0))),d=E(()=>Math.max(...z.value.map(y=>isNaN(y.value)||[void 0,null,"NaN",NaN,1/0,-1/0].includes(y.value)?0:y.value||0))),r=E(()=>{const y=l.value>=0?0:l.value;return Math.abs(y)}),b=E(()=>d.value+r.value+j.value),O=E(()=>L.value.bottom-L.value.height*V(r.value));function V(y){return y/b.value}const f=E(()=>c.dataset.length-1),m=E(()=>z.value.map((y,M)=>{const I=isNaN(y.value)||[void 0,null,"NaN",NaN,1/0,-1/0].includes(y.value)?0:y.value||0;return{absoluteValue:I,period:y.period,plotValue:I+r.value,toMax:V(I+r.value),x:L.value.start+M*(L.value.width/(f.value+1)>x.padding?x.padding:L.value.width/(f.value+1)),y:L.value.bottom-L.value.height*V(I+r.value),id:`plot_${e.value}_${M}`,color:Q.value?h.value.style.bar.color:h.value.style.area.useGradient?ne(h.value.style.line.color,.05*(1-M/f.value)):h.value.style.line.color,width:L.value.width/(f.value+1)>x.padding?x.padding:L.value.width/(f.value+1)}})),ee=E(()=>{const y={x:m.value[0].x,y:x.value.height-6},M={x:m.value[m.value.length-1].x,y:x.value.height-6},I=[];return m.value.forEach(g=>{I.push(`${g.x},${g.y} `)}),[y.x,y.y,...I,M.x,M.y].toString()}),Y=B(void 0);function fe(y,M){Y.value=y,n("hoverIndex",{index:M})}function be(){Y.value=void 0,n("hoverIndex",{index:void 0})}const U=E(()=>{if(a.value){const y=m.value.map(I=>I.absoluteValue),M=y.reduce((I,g)=>I+g,0);return{latest:m.value[m.value.length-1].absoluteValue,sum:M,average:M/m.value.length,median:Le(y),trend:Ce(m.value.map(({x:I,y:g,absoluteValue:P})=>({x:I,y:g,value:P}))).trend}}else return{latest:null,sum:null,average:null,median:null,trend:null}}),te=E(()=>a.value?h.value.style.dataLabel.valueType==="latest"?U.value.latest:h.value.style.dataLabel.valueType==="sum"?U.value.sum:h.value.style.dataLabel.valueType==="average"?U.value.average:0:0),Q=E(()=>h.value.type&&h.value.type==="bar");function ve(y,M){n("selectDatapoint",{datapoint:y,index:M})}return(y,M)=>(i(),s("div",{ref_key:"sparklineChart",ref:C,class:"vue-ui-sparkline",id:e.value,style:_(`width:100%;font-family:${h.value.style.fontFamily}`)},[W(y.$slots,"before",le(ie({selected:Y.value,latest:U.value.latest,sum:U.value.sum,average:U.value.average,median:U.value.median,trend:U.value.trend})),void 0,!0),h.value.style.title.show&&t.showInfo?(i(),s("div",{key:0,ref_key:"chartTitle",ref:o,class:"vue-ui-sparkline-title",style:_(`display:flex;align-items:center;width:100%;color:${h.value.style.title.color};background:${h.value.style.backgroundColor};justify-content:${h.value.style.title.textAlign==="left"?"flex-start":h.value.style.title.textAlign==="right"?"flex-end":"center"};height:${h.value.style.title.fontSize*2}px;font-size:${h.value.style.title.fontSize}px;font-weight:${h.value.style.title.bold?"bold":"normal"};`)},[p("span",{style:_(`padding:${h.value.style.title.textAlign==="left"?"0 0 0 12px":h.value.style.title.textAlign==="right"?"0 12px 0 0":"0"}`)},$(Y.value?Y.value.period:h.value.style.title.text),5)],4)):u("",!0),a.value?(i(),s("svg",{key:1,xmlns:T(We),viewBox:`0 0 ${x.value.width} ${x.value.height}`,style:_(`background:${h.value.style.backgroundColor};overflow:visible`)},[de(Me),p("defs",null,[p("linearGradient",{x1:"0%",y1:"0%",x2:"100%",y2:"0%",id:`sparkline_gradient_${e.value}`},[p("stop",{offset:"0%","stop-color":T(he)(T(ne)(h.value.style.area.color,.05),h.value.style.area.opacity)},null,8,yt),p("stop",{offset:"100%","stop-color":T(he)(h.value.style.area.color,h.value.style.area.opacity)},null,8,Nt)],8,xt),p("linearGradient",{x2:"0%",y2:"100%",id:`sparkline_bar_gradient_pos_${e.value}`},[p("stop",{offset:"0%","stop-color":h.value.style.bar.color},null,8,Ft),p("stop",{offset:"100%","stop-color":T(ne)(h.value.style.bar.color,.05)},null,8,kt)],8,It),p("linearGradient",{x2:"0%",y2:"100%",id:`sparkline_bar_gradient_neg_${e.value}`},[p("stop",{offset:"0%","stop-color":T(ne)(h.value.style.bar.color,.05)},null,8,_t),p("stop",{offset:"100%","stop-color":h.value.style.bar.color},null,8,Ct)],8,At)]),h.value.style.area.show&&!Q.value&&m.value[0]?(i(),s("g",Lt,[h.value.style.line.smooth?(i(),s("path",{key:0,d:`M ${m.value[0].x},${L.value.bottom} ${T(xe)(m.value)} L ${m.value.at(-1).x},${L.value.bottom} Z`,fill:h.value.style.area.useGradient?`url(#sparkline_gradient_${e.value})`:T(he)(h.value.style.area.color,h.value.style.area.opacity)},null,8,wt)):(i(),s("path",{key:1,d:`M${ee.value}Z`,fill:h.value.style.area.useGradient?`url(#sparkline_gradient_${e.value})`:T(he)(h.value.style.area.color,h.value.style.area.opacity)},null,8,St))])):u("",!0),h.value.style.line.smooth&&!Q.value?(i(),s("path",{key:1,d:`M ${T(xe)(m.value)}`,stroke:h.value.style.line.color,fill:"none","stroke-width":h.value.style.line.strokeWidth,"stroke-linecap":"round"},null,8,Ot)):u("",!0),(i(!0),s(k,null,A(m.value,(I,g)=>(i(),s("g",null,[g<m.value.length-1&&!h.value.style.line.smooth&&!Q.value?(i(),s("line",{key:0,x1:I.x,x2:m.value[g+1].x,y1:I.y,y2:m.value[g+1].y,stroke:I.color,"stroke-width":h.value.style.line.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round","shape-rendering":"geometricPrecision"},null,8,Gt)):u("",!0),Q.value?(i(),s("rect",{key:1,x:I.x-I.width/2,y:I.absoluteValue>0?I.y:O.value,width:I.width,height:Math.abs(I.y-O.value),fill:I.absoluteValue>0?`url(#sparkline_bar_gradient_pos_${e.value})`:`url(#sparkline_bar_gradient_neg_${e.value})`,rx:h.value.style.bar.borderRadius},null,8,$t)):u("",!0),h.value.style.verticalIndicator.show&&(Y.value&&I.id===Y.value.id||t.selectedIndex===g)?(i(),s("line",{key:2,x1:I.x,x2:I.x,y1:L.value.top-6,y2:L.value.bottom,stroke:h.value.style.verticalIndicator.color||I.color,"stroke-width":h.value.style.verticalIndicator.strokeWidth,"stroke-linecap":"round","stroke-dasharray":h.value.style.verticalIndicator.strokeDasharray||0},null,8,zt)):u("",!0)]))),256)),l.value<0?(i(),s("line",{key:2,x1:L.value.start,x2:L.value.start+L.value.width-16,y1:O.value,y2:O.value,stroke:h.value.style.zeroLine.color,"stroke-dasharray":h.value.style.zeroLine.strokeWidth*2,"stroke-width":h.value.style.zeroLine.strokeWidth,"stroke-linecap":"round"},null,8,Mt)):u("",!0),h.value.style.plot.show?(i(!0),s(k,{key:3},A(m.value,(I,g)=>(i(),s("g",null,[Y.value&&I.id===Y.value.id||t.selectedIndex===g?(i(),s("circle",{key:0,cx:I.x,cy:I.y,r:h.value.style.plot.radius,fill:I.color,stroke:h.value.style.plot.stroke,"stroke-width":h.value.style.plot.strokeWidth},null,8,Pt)):u("",!0)]))),256)):u("",!0),t.showInfo&&h.value.style.dataLabel.show?(i(),s("text",{key:4,x:h.value.style.dataLabel.position==="left"?12+h.value.style.dataLabel.offsetX:L.value.width+12+h.value.style.dataLabel.offsetX,y:x.value.height/2+h.value.style.dataLabel.fontSize/2.5+h.value.style.dataLabel.offsetY,"font-size":h.value.style.dataLabel.fontSize,"font-weight":h.value.style.dataLabel.bold?"bold":"normal",fill:h.value.style.dataLabel.color},$(Y.value?T(oe)(h.value.style.dataLabel.formatter,Y.value.absoluteValue,T(se)({p:h.value.style.dataLabel.prefix,v:Y.value.absoluteValue,s:h.value.style.dataLabel.suffix,r:h.value.style.dataLabel.roundingValue}),{datapoint:Y.value}):T(oe)(h.value.style.dataLabel.formatter,te.value,T(se)({p:h.value.style.dataLabel.prefix,v:te.value,s:h.value.style.dataLabel.suffix,r:h.value.style.dataLabel.roundingValue}))),9,Tt)):u("",!0),(i(!0),s(k,null,A(m.value,(I,g)=>(i(),s("rect",{x:I.x-(L.value.width/(f.value+1)>x.value.padding?x.value.padding:L.value.width/(f.value+1))/2,y:L.value.top-6,height:L.value.height+6,width:L.value.width/(f.value+1)>x.value.padding?x.value.padding:L.value.width/(f.value+1),fill:"transparent",onMouseenter:P=>fe(I,g),onMouseleave:be,onClick:()=>ve(I,g)},null,40,Vt))),256)),W(y.$slots,"svg",{svg:x.value},void 0,!0)],12,mt)):u("",!0),y.$slots.source?(i(),s("div",{key:2,ref_key:"source",ref:N,dir:"auto"},[W(y.$slots,"source",{},void 0,!0)],512)):u("",!0),a.value?u("",!0):(i(),J(Pe,{key:3,config:{type:"sparkline",style:{backgroundColor:h.value.style.backgroundColor,sparkline:{color:"#CCCCCC"}}}},null,8,["config"]))],12,vt))}},Rt=Fe(Wt,[["__scopeId","data-v-afa97ea1"]]),Dt=["id"],Et={style:{"z-index":"1","padding-right":"24px"}},Bt=["onClick"],Ht={style:{display:"flex","flex-direction":"row",gap:"3px","align-items":"center"}},Yt=["data-cell"],jt={dir:"auto",style:{display:"flex","flex-direction":"row","align-items":"center",gap:"6px"}},Xt=["data-cell","onPointerenter"],qt=["data-cell"],Ut=["data-cell"],Zt=["data-cell"],Jt=["data-cell"],Qt={key:0,ref:"source",dir:"auto"},Kt={__name:"vue-ui-table-sparkline",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},setup(t,{expose:n}){const c=t;Re(g=>({"588e7231":g.tdo}));const{vue_ui_table_sparkline:v}=ye(),a=B(pe()),e=B(0),C=B(0),o=E({get:()=>N(),set:g=>g});function N(){const g=re({userConfig:c.config,defaultConfig:v});return g.theme?{...re({userConfig:Ne.vue_ui_table_sparkline[g.theme]||c.config,defaultConfig:g}),customPalette:we[g.theme]||ce}:g}ge(()=>c.config,g=>{o.value=N(),L(),C.value+=1},{deep:!0}),ge(()=>c.dataset,g=>{b.value=r.value,C.value+=1},{deep:!0});const{isPrinting:h,isImaging:R,generatePdf:z,generateImage:D}=dt({elementId:`table_${a.value}`,fileName:o.value.title.text||"vue-ui-table-sparkline"}),H=E(()=>Oe(o.value.customPalette)),w=B(null),x=B(!1),j=E(()=>o.value.responsiveBreakpoint);_e(()=>{L()});function L(){Ie(c.dataset)&&ue({componentName:"VueUiTableSparkline",type:"dataset"});const g=new ResizeObserver(P=>{P.forEach(F=>{x.value=F.contentRect.width<j.value})});w.value&&g.observe(w.value)}const l=E(()=>(c.dataset.forEach((g,P)=>{Ae({datasetObject:g,requiredAttributes:["name","values"]}).forEach(F=>{ue({componentName:"VueUiTableSparkline",type:"datasetSerieAttribute",property:F,index:P})})}),c.dataset.map((g,P)=>{const F=(g.values||[]).map(G=>isNaN(G)?0:G??0),S=F.reduce((G,X)=>G+X,0);return{...g,values:g.values||[],color:Se(g.color)||H.value[P]||ce[P]||ce[P%ce.length],sum:S,average:S/F.length,median:Le(F),sparklineDataset:F.map((G,X)=>({period:o.value.colNames[X]||`col ${X}`,value:G||0}))}})));function d(g){const P=(g[0].values||[]).map((F,S)=>g.map(G=>G.values[S]||[])).map(F=>F.map((S,G)=>[S,G]).sort((S,G)=>G[0]-S[0]).map(S=>S[1]));return g.map((F,S)=>({...F,values:F.values||[],orders:P[S]}))}const r=E(()=>d(l.value)),b=B(r.value),O=E(()=>Math.max(...b.value.map(g=>(g.values||[]).length))),V=B(void 0),f=B(!1),m=B(void 0),ee=B(-1);function Y(){f.value=!1,m.value=void 0,ee.value=-1,b.value=r.value}function fe(g){f.value=!0,m.value=g;const P=r.value.map(G=>G.values[g]||[]),F=V.value===g?1:-1;ee.value=F,g===V.value?V.value=void 0:V.value=g;const S=P.map((G,X)=>[X,G]).sort((G,X)=>F*(X[1]-G[1])).map(G=>G[0]).map(G=>r.value[G]);b.value=S,C.value+=1}const be=E(()=>Math.max(...c.dataset.map(g=>(g.values||[]).length))),U=E(()=>{let g=o.value.colNames;if(!g.length)for(let F=0;F<be.value;F+=1)g.push(`col ${F+1}`);o.value.showTotal&&(g=[...g,o.value.translations.total]);let P;return o.value.showAverage&&o.value.showMedian?P=[...g,o.value.translations.average,o.value.translations.median]:o.value.showAverage&&!o.value.showMedian?P=[...g,o.value.translations.average]:!o.value.showAverage&&o.value.showMedian?P=[...g,o.value.translations.median]:P=g,o.value.showSparklines?[...P,o.value.translations.chart]:P}),te=B(void 0),Q=B(void 0);function ve({dataIndex:g,serieIndex:P}){te.value=g,Q.value=P}const y=B(!1);function M(g){y.value=g,e.value+=1}function I(){De(()=>{const g=[o.value.translations.serie].concat(U.value),P=l.value.map((G,X)=>[[G.name],G.values,[G.sum],[G.average],[G.median]]),F=[g].concat(P),S=Ge(F);$e({csvContent:S,title:o.value.title.text||"vue-ui-table-sparkline"})})}return n({generatePdf:z,generateImage:D,generateCsv:I,restoreOrder:Y}),(g,P)=>(i(),s("div",{ref_key:"tableContainer",ref:w,class:Z({"vue-ui-responsive":x.value}),style:{overflow:"hidden"},id:`table_${a.value}`},[p("div",{style:{overflow:"auto"},onPointerleave:P[0]||(P[0]=F=>{Q.value=void 0,te.value=void 0})},[p("table",{class:"vue-ui-data-table",style:_({fontFamily:o.value.fontFamily,position:"relative"})},[o.value.title.text?(i(),s("caption",{key:0,style:_({backgroundColor:o.value.title.backgroundColor})},[p("div",{style:_({fontSize:`${o.value.title.fontSize}px`,fontWeight:o.value.title.bold?"bold":"normal",color:o.value.title.color,textAlign:o.value.title.textAlign})},$(o.value.title.text),5),o.value.title.subtitle.text?(i(),s("div",{key:0,style:_({fontSize:`${o.value.title.subtitle.fontSize}px`,fontWeight:o.value.title.subtitle.bold?"bold":"normal",color:o.value.title.subtitle.color,textAlign:o.value.title.textAlign})},$(o.value.title.subtitle.text),5)):u("",!0)],4)):u("",!0),p("thead",Et,[p("tr",{role:"row",class:"vue-ui-data-table__thead-row",style:_({backgroundColor:o.value.thead.backgroundColor,color:o.value.thead.color})},[p("th",{role:"cell",style:_({backgroundColor:o.value.thead.backgroundColor,outline:o.value.thead.outline,textAlign:o.value.thead.textAlign,fontWeight:o.value.thead.bold?"bold":"normal"}),class:"sticky-col-first"},$(o.value.translations.serie),5),(i(!0),s(k,null,A(U.value,(F,S)=>(i(),s("th",{role:"cell",style:_({background:o.value.thead.backgroundColor,outline:o.value.thead.outline,textAlign:o.value.thead.textAlign,fontWeight:o.value.thead.bold?"bold":"normal",minWidth:S===U.value.length-1?"150px":"",cursor:r.value[0].values[S]!==void 0?"pointer":"default"}),onClick:()=>fe(S),class:Z({"sticky-col":S===U.value.length-1&&o.value.showSparklines})},[p("div",Ht,[p("span",null,$(F),1),f.value&&S===m.value&&r.value[0].values[S]!==void 0?(i(),J(Te,{key:0,size:18,name:ee.value===1?"sort":"sortReverse",stroke:o.value.thead.color},null,8,["name","stroke"])):u("",!0)]),o.value.userOptions.show&&S===U.value.length-1?(i(),J(Ve,{ref_for:!0,ref:"details",key:`user_option_${e.value}`,backgroundColor:o.value.thead.backgroundColor,color:o.value.thead.color,isPrinting:T(h),isImaging:T(R),uid:a.value,hasPdf:o.value.userOptions.buttons.pdf,hasXls:o.value.userOptions.buttons.csv,hasImg:o.value.userOptions.buttons.img,hasFullscreen:o.value.userOptions.buttons.fullscreen,isFullscreen:y.value,titles:{...o.value.userOptions.buttonTitles},chartElement:w.value,position:o.value.userOptions.position,onToggleFullscreen:M,onGeneratePdf:T(z),onGenerateImage:T(D),onGenerateCsv:I},ze({_:2},[g.$slots.optionPdf?{name:"optionPdf",fn:q(()=>[W(g.$slots,"optionPdf",{},void 0,!0)]),key:"0"}:void 0,g.$slots.optionCsv?{name:"optionCsv",fn:q(()=>[W(g.$slots,"optionCsv",{},void 0,!0)]),key:"1"}:void 0,g.$slots.optionImg?{name:"optionImg",fn:q(()=>[W(g.$slots,"optionImg",{},void 0,!0)]),key:"2"}:void 0,g.$slots.optionFullscreen?{name:"optionFullscreen",fn:q(({toggleFullscreen:G,isFullscreen:X})=>[W(g.$slots,"optionFullscreen",le(ie({toggleFullscreen:G,isFullscreen:X})),void 0,!0)]),key:"3"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasPdf","hasXls","hasImg","hasFullscreen","isFullscreen","titles","chartElement","position","onGeneratePdf","onGenerateImage"])):u("",!0)],14,Bt))),256))],4)]),p("tbody",null,[(i(!0),s(k,null,A(b.value,(F,S)=>(i(),s("tr",{role:"row",style:_({backgroundColor:o.value.tbody.backgroundColor,color:o.value.tbody.color}),class:Z({"vue-ui-data-table__tbody__row":!0,"vue-ui-data-table__tbody__row-even":S%2===0,"vue-ui-data-table__tbody__row-odd":S%2!==0})},[p("td",{role:"cell",style:_({backgroundColor:o.value.tbody.backgroundColor,outline:o.value.tbody.outline,fontSize:`${o.value.tbody.fontSize}px`,fontWeight:o.value.tbody.bold?"bold":"normal",textAlign:o.value.tbody.textAlign}),"data-cell":o.value.translations.serie,class:"vue-ui-data-table__tbody__td sticky-col-first"},[p("div",jt,[p("span",{style:_({color:F.color})},"â¬¤",4),p("span",null,$(F.name??"-"),1)])],12,Yt),(i(!0),s(k,null,A(O.value,(G,X)=>(i(),s("td",{dir:"auto",role:"cell",style:_({outline:o.value.tbody.outline,fontSize:`${o.value.tbody.fontSize}px`,fontWeight:o.value.tbody.bold?"bold":"normal",textAlign:o.value.tbody.textAlign,backgroundColor:te.value!==void 0&&Q.value!==void 0&&X===te.value&&Q.value===S?`${F.color}33`:"",borderRadius:te.value!==void 0&&Q.value!==void 0&&X===te.value&&Q.value===S?"3px":""}),"data-cell":U.value[X],class:"vue-ui-data-table__tbody__td",onPointerenter:ii=>{Q.value=S,te.value=X}},$([null,void 0].includes(F.values[X])?"-":T(oe)(o.value.formatter,Number(F.values[X]),T(se)({p:o.value.prefix,v:Number(F.values[X]),s:o.value.suffix,r:o.value.roundingValues}),{datapoint:F,seriesIndex:S,datapointIndex:X})),45,Xt))),256)),o.value.showTotal?(i(),s("td",{key:0,dir:"auto",role:"cell",style:_({outline:o.value.tbody.outline,fontSize:`${o.value.tbody.fontSize}px`,fontWeight:o.value.tbody.bold?"bold":"normal",textAlign:o.value.tbody.textAlign}),"data-cell":o.value.translations.total,class:"vue-ui-data-table__tbody__td"},$(T(oe)(o.value.formatter,F.sum,T(se)({p:o.value.prefix,v:F.sum,s:o.value.suffix,r:o.value.roundingTotal}),{datapoint:F.sum,seriesIndex:S})),13,qt)):u("",!0),o.value.showAverage?(i(),s("td",{key:1,dir:"auto",role:"cell",style:_({outline:o.value.tbody.outline,fontSize:`${o.value.tbody.fontSize}px`,fontWeight:o.value.tbody.bold?"bold":"normal",textAlign:o.value.tbody.textAlign}),"data-cell":o.value.translations.average,class:"vue-ui-data-table__tbody__td"},$(T(oe)(o.value.formatter,F.average,T(se)({p:o.value.prefix,v:F.average,s:o.value.suffix,r:o.value.roundingAverage}),{datapoint:F.average,seriesIndex:S})),13,Ut)):u("",!0),o.value.showMedian?(i(),s("td",{key:2,dir:"auto",role:"cell",style:_({outline:o.value.tbody.outline,fontSize:`${o.value.tbody.fontSize}px`,fontWeight:o.value.tbody.bold?"bold":"normal",textAlign:o.value.tbody.textAlign}),"data-cell":o.value.translations.median,class:"vue-ui-data-table__tbody__td"},$(T(oe)(o.value.formatter,F.median,T(se)({p:o.value.prefix,v:F.median,s:o.value.suffix,r:o.value.roundingMedian}),{datapoint:F.median,seriesIndex:S})),13,Zt)):u("",!0),o.value.showSparklines?(i(),s("td",{key:3,role:"cell","data-cell":o.value.translations.chart,style:_({outline:o.value.tbody.outline,fontSize:`${o.value.tbody.fontSize}px`,fontWeight:o.value.tbody.bold?"bold":"normal",textAlign:o.value.tbody.textAlign}),class:"vue-ui-data-table__tbody__td sticky-col"},[(i(),J(Rt,{key:`sparkline_${S}_${C.value}`,onHoverIndex:({index:G})=>ve({dataIndex:G,serieIndex:S}),dataset:F.sparklineDataset,showInfo:!1,selectedIndex:te.value,config:{type:o.value.sparkline.type,style:{backgroundColor:o.value.tbody.backgroundColor,animation:{show:o.value.sparkline.animation.show&&!T(h)&&!T(R),animationFrames:o.value.sparkline.animation.animationFrames},line:{color:F.color,smooth:o.value.sparkline.smooth,strokeWidth:o.value.sparkline.strokeWidth},bar:{color:F.color},area:{color:F.color,opacity:o.value.sparkline.showArea?16:0,useGradient:o.value.sparkline.useGradient},verticalIndicator:{color:F.color},plot:{radius:9,stroke:o.value.tbody.backgroundColor,strokeWidth:3}}}},null,8,["onHoverIndex","dataset","selectedIndex","config"]))],12,Jt)):u("",!0)],6))),256))])],4)],32),g.$slots.source?(i(),s("div",Qt,[W(g.$slots,"source",{},void 0,!0)],512)):u("",!0)],10,Dt))}},ea=Fe(Kt,[["__scopeId","data-v-1516623f"]]),ta=pe(),aa={name:"vue-ui-xy",props:{config:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},components:{DataTable:ot,Shape:gt,Title:ut,Tooltip:ft,UserOptions:Ve,BaseIcon:Te,TableSparkline:ea,Skeleton:Pe,Slicer:bt,Accordion:ct,PackageVersion:Me,PenAndPaper:ht},data(){this.dataset.forEach((c,v)=>{[null,void 0].includes(c.series)&&this.error({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"series (number[])",index:v})});const t=Math.max(...this.dataset.map(c=>c.series.length)),n={start:0,end:t};return{themePalettes:we,themes:Ne,slicerStep:0,selectedScale:null,CTX:null,CANVAS:null,opacity:st,useSafeValues:!0,palette:ce,height:600,width:1e3,viewBox:"0 0 1000 600",clientPosition:{x:0,y:0},canvasClientPosition:{x:0,y:0},icons:{line:"line",bar:"bar",plot:"plot"},isAnnotator:!1,isFullscreen:!1,isPrinting:!1,isImaging:!1,isTooltip:!1,mutableConfig:{dataLabels:{show:!0},showTooltip:!0,showTable:!1,isStacked:!1,useIndividualScale:!1},selectedSerieIndex:null,selectedRowIndex:null,segregatedSeries:[],uniqueId:pe(),step:0,tableStep:0,titleStep:0,slicer:n,__to__:null,maxX:t,showSparklineTable:!0,segregateStep:0,sliderId:ta,fontSizes:{xAxis:18,yAxis:12,dataLabels:20,plotLabels:10},plotRadii:{plot:3,line:3},selectedMinimapIndex:null}},watch:{dataset:{handler(t,n){this.maxX=Math.max(...this.dataset.map(c=>c.series.length)),this.slicer={start:0,end:this.maxX},this.slicerStep+=1,this.segregateStep+=1},deep:!0},config:{handler(t,n){this.FINAL_CONFIG=this.prepareConfig(),this.prepareChart(),this.titleStep+=1,this.tableStep+=1},deep:!0}},computed:{hasOptionsNoTitle(){return this.FINAL_CONFIG.chart.userOptions.show&&(!this.FINAL_CONFIG.chart.title.show||!this.FINAL_CONFIG.chart.title.text)},minimap(){if(!this.FINAL_CONFIG.chart.zoom.minimap.show)return[];const t=this.datasetWithIds.filter(a=>!this.segregatedSeries.includes(a.id)),n=Math.max(...t.map(a=>a.series.length)),c=[];for(let a=0;a<n;a+=1)c.push(t.map(e=>e.series[a]||0).reduce((e,C)=>(e||0)+(C||0),0));const v=Math.min(...c);return c.map(a=>a+(v<0?Math.abs(v):0))},customPalette(){return this.convertCustomPalette(this.FINAL_CONFIG.customPalette)},backgroundColor(){return this.FINAL_CONFIG.chart.backgroundColor},slicerColor(){return this.FINAL_CONFIG.chart.zoom.color},allScales(){const t=this.lineSet.map(a=>({name:a.name,color:a.color,scale:a.individualScale,scaleYLabels:a.scaleYLabels,zero:a.zeroPosition,max:a.individualMax,scaleLabel:a.scaleLabel||"",id:a.id,yOffset:a.yOffset||0,individualHeight:a.individualHeight||this.drawingArea.height,autoScaleYLabels:a.autoScaleYLabels})),n=this.barSet.map(a=>({name:a.name,color:a.color,scale:a.individualScale,scaleYLabels:a.scaleYLabels,zero:a.zeroPosition,max:a.individualMax,scaleLabel:a.scaleLabel||"",id:a.id,yOffset:a.yOffset||0,individualHeight:a.individualHeight||this.drawingArea.height})),c=this.plotSet.map(a=>({name:a.name,color:a.color,scale:a.individualScale,scaleYLabels:a.scaleYLabels,zero:a.zeroPosition,max:a.individualMax,scaleLabel:a.scaleLabel||"",id:a.id,yOffset:a.yOffset||0,individualHeight:a.individualHeight||this.drawingArea.height})),v=[...t,...n,...c].flatMap(a=>a).length;return[...t,...n,...c].flatMap((a,e)=>({id:a.id,scaleLabel:a.scaleLabel,name:a.name,color:a.color,scale:a.scale,yOffset:a.yOffset,individualHeight:a.individualHeight,x:this.mutableConfig.isStacked?this.drawingArea.left:this.drawingArea.left/v*(e+1),yLabels:a.scaleYLabels||a.scale.ticks.map(C=>({y:C>=0?a.zero-a.individualHeight*(C/a.max):a.zero+a.individualHeight*Math.abs(C)/a.max,value:C}))}))},isDataset(){return!!this.dataset&&this.dataset.length},chartFont(){const t=document.getElementById(`vue-ui-xy_${this.uniqueId}`);return window.getComputedStyle(t,null).getPropertyValue("font-family")},FINAL_CONFIG:{get:function(){return this.prepareConfig()},set:function(t){return t}},hasHighlightArea(){return Array.isArray(this.FINAL_CONFIG.chart.highlightArea)?this.FINAL_CONFIG.chart.highlightArea.some(t=>t.show):this.FINAL_CONFIG.chart.highlightArea&&this.FINAL_CONFIG.chart.highlightArea.show},highlightAreas(){if(Array.isArray(this.FINAL_CONFIG.chart.highlightArea))return this.FINAL_CONFIG.chart.highlightArea.map(n=>({...n,span:n.from===n.to?1:n.to<n.from?0:n.to-n.from+1}));const t=this.FINAL_CONFIG.chart.highlightArea;return[{...t,span:t.from===t.to?1:t.to<t.from?0:t.to-t.from+1}]},xPadding(){return this.FINAL_CONFIG.chart.grid.position==="middle"?0:this.drawingArea.width/this.maxSeries/2},relativeZero(){return this.niceScale.min>=0?0:Math.abs(this.niceScale.min)},absoluteMax(){return this.niceScale.max+this.relativeZero},datasetWithIds(){return this.useSafeValues?this.dataset.map((t,n)=>({...t,id:`uniqueId_${n}`})):this.dataset},safeDataset(){return this.useSafeValues?this.dataset.map((t,n)=>({...t,series:t.series.map(c=>this.isSafeValue(c)?c:null).slice(this.slicer.start,this.slicer.end),color:this.convertColorToHex(t.color?t.color:this.customPalette[n]?this.customPalette[n]:this.palette[n]),id:`uniqueId_${n}`})):this.dataset},relativeDataset(){return this.safeDataset.map((t,n)=>({...t,series:t.series.map(c=>c+this.relativeZero),absoluteValues:t.series})).filter(t=>!this.segregatedSeries.includes(t.id))},tableSparklineDataset(){return this.relativeDataset.map(t=>{const n=t.absoluteValues.map(c=>[void 0,null].includes(c)?0:c);return{id:t.id,name:t.name,color:t.color,values:this.fillArray(this.maxSeries,n)}})},tableSparklineConfig(){return{responsiveBreakpoint:this.FINAL_CONFIG.table.responsiveBreakpoint,roundingValues:this.FINAL_CONFIG.table.rounding,showAverage:!1,showMedian:!1,showTotal:!1,fontFamily:this.FINAL_CONFIG.chart.fontFamily,prefix:this.FINAL_CONFIG.chart.labels.prefix,suffix:this.FINAL_CONFIG.chart.labels.suffix,colNames:JSON.parse(JSON.stringify(this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values)),thead:{backgroundColor:this.FINAL_CONFIG.table.th.backgroundColor,color:this.FINAL_CONFIG.table.th.color,outline:this.FINAL_CONFIG.table.th.outline},tbody:{backgroundColor:this.FINAL_CONFIG.table.td.backgroundColor,color:this.FINAL_CONFIG.table.td.color,outline:this.FINAL_CONFIG.table.td.outline},userOptions:{show:!1}}},absoluteDataset(){return this.safeDataset.map((t,n)=>({absoluteIndex:n,...t,series:t.series.map(c=>c+this.relativeZero),absoluteValues:t.series,segregate:()=>this.segregate(t),isSegregated:this.segregatedSeries.includes(t.id)}))},barSet(){return this.activeSeriesWithStackRatios.filter(t=>t.type==="bar").map((t,n)=>{this.checkAutoScaleError(t);const c=Math.min(...t.absoluteValues.filter(f=>![null,void 0].includes(f))),v=Math.max(...t.absoluteValues.filter(f=>![null,void 0].includes(f))),a={ratios:t.absoluteValues.filter(f=>![null,void 0].includes(f)).map(f=>(f-c)/(v-c)),valueMin:c,valueMax:v<0?0:v},e={max:t.scaleMax||Math.max(...t.absoluteValues)||1,min:t.scaleMin||Math.min(...t.absoluteValues.filter(f=>![void 0,null].includes(f)))>0?0:Math.min(...t.absoluteValues.filter(f=>![null,void 0].includes(f)))},C=t.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,o=1.0000001,N=this.calculateNiceScaleWithExactExtremes(e.min,e.max===e.min?e.max*o:e.max,C),h=this.calculateNiceScaleWithExactExtremes(a.valueMin,a.valueMax===a.valueMin?a.valueMax*o:a.valueMax,C),R=N.min>=0?0:Math.abs(N.min),z=0,D=N.max+R,H=h.max+Math.abs(z),w=this.mutableConfig.isStacked?this.drawingArea.height*(1-t.cumulatedStackRatio):0,x=this.mutableConfig.isStacked?this.drawingArea.height*t.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,j=this.drawingArea.bottom-w-x*R/D,L=this.drawingArea.bottom-w-x*z/H,l=this.absoluteDataset.filter(f=>f.type==="bar").filter(f=>!this.segregatedSeries.includes(f.id)).length,d=t.series.map((f,m)=>{const ee=this.mutableConfig.useIndividualScale?(t.absoluteValues[m]+R)/D:this.ratioToMax(f),Y=this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.drawingArea.left+this.drawingArea.width/this.maxSeries*m:this.drawingArea.left+this.slot.bar*n+this.slot.bar*m*l-this.barSlot/2-n*this.barPeriodGap;return{yOffset:this.checkNaN(w),individualHeight:this.checkNaN(x),x:this.checkNaN(Y),y:this.drawingArea.bottom-w-x*ee,value:t.absoluteValues[m],zeroPosition:this.checkNaN(j),individualMax:this.checkNaN(D),comment:t.comments&&t.comments.slice(this.slicer.start,this.slicer.end)[m]||""}}),r=t.absoluteValues.map(f=>h.min>=0?(f-Math.abs(h.min))/(h.max-Math.abs(h.min)):(f+Math.abs(h.min))/(h.max+Math.abs(h.min))),b=t.series.map((f,m)=>{const ee=this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.drawingArea.left+this.drawingArea.width/this.maxSeries*m:this.drawingArea.left-this.slot.bar/2+this.slot.bar*n+this.slot.bar*m*this.absoluteDataset.filter(Y=>Y.type==="bar").filter(Y=>!this.segregatedSeries.includes(Y.id)).length;return{yOffset:this.checkNaN(w),individualHeight:this.checkNaN(x),x:this.checkNaN(ee),y:this.checkNaN(this.drawingArea.bottom-this.checkNaN(w)-(this.checkNaN(x)*r[m]||0)),value:t.absoluteValues[m],zeroPosition:this.checkNaN(j),individualMax:this.checkNaN(D),comment:t.comments&&t.comments.slice(this.slicer.start,this.slicer.end)[m]||""}}),O=N.ticks.map(f=>({y:f>=0?j-x*(f/D):j+x*Math.abs(f)/D,value:f,prefix:t.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:t.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:t})),V=h.ticks.map(f=>{const m=(f-h.min)/(h.max-h.min);return{y:f>=0?L-x*m:L+x*m,value:f,prefix:t.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:t.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:t}});return{...t,yOffset:w,autoScaleYLabels:V,individualHeight:x,scaleYLabels:t.autoScaling?V:O,individualScale:t.autoScaling?h:N,individualMax:t.autoScaling?H:D,zeroPosition:t.autoScaling?L:j,plots:t.autoScaling?b:d}})},activeSeriesLength(){return this.absoluteDataset.length},activeSeriesWithStackRatios(){return this.assignStackRatios(this.absoluteDataset.filter(t=>!this.segregatedSeries.includes(t.id)))},lineSet(){return this.activeSeriesWithStackRatios.filter(t=>t.type==="line").map(t=>{this.checkAutoScaleError(t);const n=Math.min(...t.absoluteValues.filter(f=>![void 0,null].includes(f))),c=Math.max(...t.absoluteValues.filter(f=>![void 0,null].includes(f)))||1,v={ratios:t.absoluteValues.filter(f=>![null,void 0].includes(f)).map(f=>(f-n)/(c-n)),valueMin:n,valueMax:c},a={max:t.scaleMax||Math.max(...t.absoluteValues)||1,min:t.scaleMin||(Math.min(...t.absoluteValues)>0?0:Math.min(...t.absoluteValues))},e=t.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,C=1.0000001,o=this.calculateNiceScaleWithExactExtremes(a.min,a.max===a.min?a.max*C:a.max,e),N=this.calculateNiceScaleWithExactExtremes(v.valueMin,v.valueMax===v.valueMin?v.valueMax*C:v.valueMax,e),h=o.min>=0?0:Math.abs(o.min),R=0,z=o.max+Math.abs(h),D=N.max+Math.abs(R),H=this.mutableConfig.isStacked?this.drawingArea.height*(1-t.cumulatedStackRatio):0,w=this.mutableConfig.isStacked?this.drawingArea.height*t.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,x=this.drawingArea.bottom-H-w*h/z,j=this.drawingArea.bottom-H-w*R/D,L=t.series.map((f,m)=>{const ee=this.mutableConfig.useIndividualScale?(t.absoluteValues[m]+Math.abs(h))/z:this.ratioToMax(f);return{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*m),y:this.checkNaN(this.drawingArea.bottom-H-w*ee),value:t.absoluteValues[m],comment:t.comments&&t.comments.slice(this.slicer.start,this.slicer.end)[m]||""}}),l=t.absoluteValues.map(f=>N.min>=0?(f-Math.abs(N.min))/(N.max-Math.abs(N.min)):(f+Math.abs(N.min))/(N.max+Math.abs(N.min))),d=t.series.map((f,m)=>[void 0,null].includes(t.absoluteValues[m])?{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*m),y:x,value:t.absoluteValues[m],comment:t.comments&&t.comments.slice(this.slicer.start,this.slicer.end)[m]||""}:{x:this.checkNaN(this.drawingArea.left+this.slot.line/2+this.slot.line*m),y:this.checkNaN(this.drawingArea.bottom-H-(w*l[m]||0)),value:t.absoluteValues[m],comment:t.comments&&t.comments.slice(this.slicer.start,this.slicer.end)[m]||""}),r=this.createSmoothPath(L),b=this.createSmoothPath(d),O=o.ticks.map(f=>({y:f>=0?x-w*(f/z):x+w*Math.abs(f)/z,value:f,prefix:t.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:t.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:t})),V=N.ticks.map(f=>{const m=(f-N.min)/(N.max-N.min);return{y:f>=0?j-w*m:j+w*m,value:f,prefix:t.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:t.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:t}});return{...t,yOffset:H,autoScaleYLabels:V,individualHeight:w,scaleYLabels:t.autoScaling?V:O,individualScale:t.autoScaling?N:o,individualMax:t.autoScaling?D:z,zeroPosition:t.autoScaling?j:x,curve:t.autoScaling?b:r,plots:t.autoScaling?d:L,area:t.useArea?this.mutableConfig.useIndividualScale?this.createIndividualArea(t.autoScaling?d:L,t.autoScaling?j:x):this.createArea(L):""}})},plotSet(){return this.activeSeriesWithStackRatios.filter(t=>t.type==="plot").map(t=>{this.checkAutoScaleError(t);const n=Math.min(...t.absoluteValues.filter(O=>![null,void 0].includes(O))),c=Math.max(...t.absoluteValues.filter(O=>![null,void 0].includes(O)))||1,v={ratios:t.absoluteValues.filter(O=>![null,void 0].includes(O)).map(O=>(O-n)/(c-n)),valueMin:n,valueMax:c},a={max:t.scaleMax||Math.max(...t.absoluteValues)||1,min:t.scaleMin||Math.min(...t.absoluteValues)>0?0:Math.min(...t.absoluteValues)},e=t.scaleSteps||this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps,C=1.0000001,o=this.calculateNiceScaleWithExactExtremes(a.min,a.max===a.min?a.max*C:a.max,e),N=this.calculateNiceScaleWithExactExtremes(v.valueMin,v.valueMax===v.valueMin?v.valueMax*C:v.valueMax,e),h=o.min>=0?0:Math.abs(o.min),R=0,z=o.max+h,D=N.max+Math.abs(R),H=this.mutableConfig.isStacked?this.drawingArea.height*(1-t.cumulatedStackRatio):0,w=this.mutableConfig.isStacked?this.drawingArea.height*t.stackRatio-this.FINAL_CONFIG.chart.grid.labels.yAxis.gap:this.drawingArea.height,x=this.drawingArea.bottom-H-w*h/z,j=this.drawingArea.bottom-H-w*R/D,L=t.series.map((O,V)=>{const f=this.mutableConfig.useIndividualScale?(t.absoluteValues[V]+Math.abs(h))/z:this.ratioToMax(O);return{x:this.checkNaN(this.drawingArea.left+this.slot.plot/2+this.slot.plot*V),y:this.checkNaN(this.drawingArea.bottom-H-w*f),value:t.absoluteValues[V],comment:t.comments&&t.comments.slice(this.slicer.start,this.slicer.end)[V]||""}}),l=t.absoluteValues.map(O=>N.min>=0?(O-Math.abs(N.min))/(N.max-Math.abs(N.min)):(O+Math.abs(N.min))/(N.max+Math.abs(N.min))),d=t.series.map((O,V)=>({x:this.checkNaN(this.drawingArea.left+this.slot.plot/2+this.slot.plot*V),y:this.checkNaN(this.drawingArea.bottom-H-(w*l[V]||0)),value:t.absoluteValues[V],comment:t.comments&&t.comments.slice(this.slicer.start,this.slicer.end)[V]||""})),r=o.ticks.map(O=>({y:O>=0?x-w*(O/z):x+w*Math.abs(O)/z,value:O,prefix:t.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:t.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:t})),b=N.ticks.map(O=>{const V=(O-N.min)/(N.max-N.min);return{y:O>=0?j-w*V:j+w*V,value:O,prefix:t.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:t.suffix||this.FINAL_CONFIG.chart.labels.suffix,datapoint:t}});return{...t,yOffset:H,autoScaleYLabels:b,individualHeight:w,scaleYLabels:t.autoScaling?b:r,individualScale:t.autoScaling?N:o,individualMax:t.autoScaling?D:z,zeroPosition:t.autoScaling?j:x,plots:t.autoScaling?d:L}})},drawingArea(){const t=this.mutableConfig.useIndividualScale&&this.FINAL_CONFIG.chart.grid.labels.show?this.absoluteDataset.filter(n=>!this.segregatedSeries.includes(n.id)).length*(this.mutableConfig.isStacked?0:this.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth):0;return{top:this.FINAL_CONFIG.chart.padding.top,right:this.width-this.FINAL_CONFIG.chart.padding.right,bottom:this.height-this.FINAL_CONFIG.chart.padding.bottom,left:this.FINAL_CONFIG.chart.padding.left+t,height:this.height-(this.FINAL_CONFIG.chart.padding.top+this.FINAL_CONFIG.chart.padding.bottom),width:this.width-(this.FINAL_CONFIG.chart.padding.right+this.FINAL_CONFIG.chart.padding.left+t)}},max(){return this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMax?this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMax:Math.max(...this.safeDataset.filter(t=>!this.segregatedSeries.includes(t.id)).map(t=>Math.max(...t.series)))},min(){if(this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMin!==null)return this.FINAL_CONFIG.chart.grid.labels.yAxis.scaleMin;const t=Math.min(...this.safeDataset.filter(n=>!this.segregatedSeries.includes(n.id)).map(n=>Math.min(...n.series)));return t>0?0:t},niceScale(){return this.calculateNiceScaleWithExactExtremes(this.min,this.max<0?0:this.max,this.FINAL_CONFIG.chart.grid.labels.yAxis.commonScaleSteps)},maxSeries(){return this.slicer.end-this.slicer.start},timeLabels(){return this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values.slice(this.slicer.start,this.slicer.end)},slot(){return{bar:this.drawingArea.width/this.maxSeries/this.safeDataset.filter(t=>t.type==="bar").filter(t=>!this.segregatedSeries.includes(t.id)).length,plot:this.drawingArea.width/this.maxSeries,line:this.drawingArea.width/this.maxSeries}},barSlot(){const t=this.safeDataset.filter(n=>n.type==="bar").filter(n=>!this.segregatedSeries.includes(n.id)).length;return this.drawingArea.width/this.maxSeries/t-this.barPeriodGap*t},barPeriodGap(){return this.slot.line*this.FINAL_CONFIG.bar.periodGap},maxSlot(){return Math.max(...Object.values(this.slot).filter(t=>t!==1/0))},table(){if(this.safeDataset.length===0)return{head:[],body:[],config:{},columnNames:[]};const t=this.relativeDataset.map(c=>({label:c.name,color:c.color,type:c.type})),n=[];return this.timeLabels.forEach((c,v)=>{const a=[c];this.relativeDataset.forEach(e=>{a.push(this.canShowValue(e.absoluteValues[v])?Number(e.absoluteValues[v].toFixed(this.FINAL_CONFIG.table.rounding)):"")}),n.push(a)}),{head:t,body:n}},dataTable(){const t=this.FINAL_CONFIG.table.showSum;let n=[""].concat(this.relativeDataset.map(e=>e.name));t&&(n=n.concat(' <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 16v2a1 1 0 0 1 -1 1h-11l6 -7l-6 -7h11a1 1 0 0 1 1 1v2" /></svg>'));let c=[];for(let e=0;e<this.maxSeries;e+=1){const C=this.relativeDataset.map(o=>o.absoluteValues[e]??0).reduce((o,N)=>o+N,0);c.push([this.timeLabels[e]??"-"].concat(this.relativeDataset.map(o=>this.applyDataLabel(o.type==="line"?this.FINAL_CONFIG.line.labels.formatter:o.type==="bar"?this.FINAL_CONFIG.bar.labels.formatter:this.FINAL_CONFIG.plot.labels.formatter,o.absoluteValues[e]??0,this.dataLabel({p:o.prefix||this.FINAL_CONFIG.chart.labels.prefix,v:o.absoluteValues[e]??0,s:o.suffix||this.FINAL_CONFIG.chart.labels.suffix,r:this.FINAL_CONFIG.table.rounding})))).concat(t?(C??0).toFixed(this.FINAL_CONFIG.table.rounding):[]))}const v={th:{backgroundColor:this.FINAL_CONFIG.table.th.backgroundColor,color:this.FINAL_CONFIG.table.th.color,outline:this.FINAL_CONFIG.table.th.outline},td:{backgroundColor:this.FINAL_CONFIG.table.td.backgroundColor,color:this.FINAL_CONFIG.table.td.color,outline:this.FINAL_CONFIG.table.td.outline},breakpoint:this.FINAL_CONFIG.table.responsiveBreakpoint},a=[this.FINAL_CONFIG.table.columnNames.period].concat(this.relativeDataset.map(e=>e.name)).concat(this.FINAL_CONFIG.table.columnNames.total);return{head:n,body:c,config:v,colNames:a}},dataTooltipSlot(){return{datapoint:this.selectedSeries,seriesIndex:this.selectedSerieIndex,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}},selectedSeries(){return this.relativeDataset.map(t=>({shape:t.shape||null,name:t.name,color:t.color,type:t.type,value:t.absoluteValues.find((n,c)=>c===this.selectedSerieIndex),comments:t.comments||[],prefix:t.prefix||this.FINAL_CONFIG.chart.labels.prefix,suffix:t.suffix||this.FINAL_CONFIG.chart.labels.suffix}))},tooltipContent(){let t="",n=this.selectedSeries.map(a=>a.value).filter(a=>this.isSafeValue(a)&&a!==null).reduce((a,e)=>Math.abs(a)+Math.abs(e),0);const c=this.timeLabels[this.selectedSerieIndex],v=this.FINAL_CONFIG.chart.tooltip.customFormat;return this.isFunction(v)&&this.functionReturnsString(()=>v({seriesIndex:this.selectedSerieIndex,datapoint:this.selectedSeries,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}))?v({seriesIndex:this.selectedSerieIndex,datapoint:this.selectedSeries,series:this.absoluteDataset,bars:this.barSet,lines:this.lineSet,plots:this.plotSet,config:this.FINAL_CONFIG}):(c&&(t+=`<div style="padding-bottom: 6px; margin-bottom: 4px; border-bottom: 1px solid ${this.FINAL_CONFIG.chart.tooltip.borderColor}; width:100%">${c}</div>`),this.selectedSeries.forEach(a=>{if(this.isSafeValue(a.value)){let e="",C="";switch(this.icons[a.type]){case"bar":e=`<svg viewBox="0 0 12 12" height="14" width="14"><rect x="0" y="0" rx="1" stroke="none" height="12" width="12" fill="${a.color}" /></svg>`;break;case"line":!a.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(a.shape)?C=`<circle cx="10" cy="8" r="4" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" />`:a.shape==="triangle"?C=`<path d="${ae({plot:{x:10,y:8},radius:4,sides:3,rotation:.52}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="square"?C=`<path d="${ae({plot:{x:10,y:8},radius:4,sides:4,rotation:.8}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="diamond"?C=`<path d="${ae({plot:{x:10,y:8},radius:4,sides:4,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="pentagon"?C=`<path d="${ae({plot:{x:10,y:8},radius:4,sides:5,rotation:.95}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="hexagon"?C=`<path d="${ae({plot:{x:10,y:8},radius:4,sides:6,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" />`:a.shape==="star"&&(C=`<polygon stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" points="${me({plot:{x:10,y:8},radius:4})}" />`),e=`<svg viewBox="0 0 20 12" height="14" width="20"><rect rx="3" x="0" y="6" stroke="none" height="4" width="20" fill="${a.color}" />${C}</svg>`;break;case"plot":if(!a.shape||!["star","triangle","square","diamond","pentagon","hexagon"].includes(a.shape)){e=`<svg viewBox="0 0 12 12" height="14" width="14"><circle cx="6" cy="6" r="6" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" /></svg>`;break}if(a.shape==="star"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><polygon stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" fill="${a.color}" points="${me({plot:{x:6,y:6},radius:5})}" /></svg>`;break}if(a.shape==="triangle"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${ae({plot:{x:6,y:6},radius:6,sides:3,rotation:.52}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="square"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${ae({plot:{x:6,y:6},radius:6,sides:4,rotation:.8}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="diamond"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${ae({plot:{x:6,y:6},radius:5,sides:4,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="pentagon"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${ae({plot:{x:6,y:6},radius:5,sides:5,rotation:.95}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}if(a.shape==="hexagon"){e=`<svg viewBox="0 0 12 12" height="14" width="14"><path d="${ae({plot:{x:6,y:6},radius:5,sides:6,rotation:0}).path}" fill="${a.color}" stroke="${this.FINAL_CONFIG.chart.tooltip.backgroundColor}" stroke-width="1" /></svg>`;break}}t+=`<div style="display:flex;flex-direction:row; align-items:center;gap:3px;"><div style="width:20px">${e}</div> ${a.name}: <b>${this.FINAL_CONFIG.chart.tooltip.showValue?this.applyDataLabel(a.type==="line"?this.FINAL_CONFIG.line.labels.formatter:a.type==="bar"?this.FINAL_CONFIG.bar.labels.formatter:this.FINAL_CONFIG.plot.labels.formatter,a.value,this.dataLabel({p:a.prefix,v:a.value,s:a.suffix,r:this.FINAL_CONFIG.chart.tooltip.roundingValue}),{datapoint:a}):""}</b> ${this.FINAL_CONFIG.chart.tooltip.showPercentage?`(${se({v:this.checkNaN(Math.abs(a.value)/n*100),s:"%",r:this.FINAL_CONFIG.chart.tooltip.roundingPercentage})})`:""}</div>`,this.FINAL_CONFIG.chart.comments.showInTooltip&&a.comments.length&&a.comments.slice(this.slicer.start,this.slicer.end)[this.selectedSerieIndex]&&(t+=`<div class="vue-data-ui-tooltip-comment" style="background:${a.color}20; padding: 6px; margin-bottom: 6px; border-left: 1px solid ${a.color}">${a.comments.slice(this.slicer.start,this.slicer.end)[this.selectedSerieIndex]}</div>`)}}),`<div style="border-radius:4px;padding:12px;font-variant-numeric: tabular-nums;color:${this.FINAL_CONFIG.chart.tooltip.color}">${t}</div>`)},svg(){return{height:this.height,width:this.width}},yLabels(){return this.niceScale.ticks.map(t=>({y:t>=0?this.zero-this.drawingArea.height*this.ratioToMax(t):this.zero+this.drawingArea.height*this.ratioToMax(Math.abs(t)),value:t,prefix:this.FINAL_CONFIG.chart.labels.prefix,suffix:this.FINAL_CONFIG.chart.labels.suffix}))},zero(){return this.drawingArea.bottom-this.drawingArea.height*this.ratioToMax(this.relativeZero)}},mounted(){this.prepareChart(),document.addEventListener("mousemove",t=>{this.clientPosition={x:t.clientX,y:t.clientY}})},methods:{abbreviate:it,adaptColorToBackground:lt,applyDataLabel:oe,assignStackRatios:at,calcLinearProgression:Ce,calculateNiceScaleWithExactExtremes:tt,checkNaN:et,closestDecimal:Ke,convertColorToHex:Se,convertConfigColors:Qe,convertCustomPalette:Oe,createCsvContent:Ge,createSmoothPath:xe,createTSpans:Je,dataLabel:se,downloadCsv:$e,error:ue,functionReturnsString:Ze,hasDeepProperty:Ue,isFunction:qe,isSafeValue:Xe,objectIsEmpty:Ie,setOpacity:he,shiftHue:ne,translateSize:je,treeShake:Ye,useMouse:pt,useNestedProp:re,toggleAnnotator(){this.isAnnotator=!this.isAnnotator},getHighlightAreaPosition(t){const n=this.drawingArea.left+this.drawingArea.width/this.maxSeries*(t.from-this.slicer.start),c=this.drawingArea.width/(this.slicer.end-this.slicer.start)*t.span<0?1e-5:this.drawingArea.width/(this.slicer.end-this.slicer.start)*t.span;return{x:n<this.drawingArea.left?this.drawingArea.left:n,width:c}},prepareConfig(){const t=ye().vue_ui_xy;if(!Object.keys(this.config||{}).length)return t;const n=this.useNestedProp({userConfig:this.config,defaultConfig:t});return this.config&&this.hasDeepProperty(this.config,"chart.highlightArea")&&(Array.isArray(this.config.chart.highlightArea)?n.chart.highlightArea=this.config.chart.highlightArea:n.chart.highlightArea=[this.config.chart.highlightArea]),this.config&&this.hasDeepProperty(this.config,"chart.grid.labels.yAxis.scaleMin")?n.chart.grid.labels.yAxis.scaleMin=this.config.chart.grid.labels.yAxis.scaleMin:n.chart.grid.labels.yAxis.scaleMin=null,this.config&&this.hasDeepProperty(this.config,"chart.grid.labels.yAxis.scaleMax")?n.chart.grid.labels.yAxis.scaleMax=this.config.chart.grid.labels.yAxis.scaleMax:n.chart.grid.labels.yAxis.scaleMax=null,n.theme?{...re({userConfig:this.themes.vue_ui_xy[n.theme]||this.config,defaultConfig:n}),customPalette:this.themePalettes[n.theme]||this.palette}:n},prepareChart(){if(this.objectIsEmpty(this.dataset)?this.error({componentName:"VueUiXy",type:"dataset"}):this.dataset.forEach((t,n)=>{[null,void 0].includes(t.name)&&this.error({componentName:"VueUiXy",type:"datasetSerieAttribute",property:"name (string)",index:n})}),this.FINAL_CONFIG.showWarnings&&this.dataset.forEach(t=>{t.series.forEach((n,c)=>{this.isSafeValue(n)||console.warn(`VueUiXy has detected an unsafe value in your dataset:
-----> The serie '${t.name}' contains the value '${n}' at index ${c}.
'${n}' was converted to null to allow the chart to display.`)})}),this.mutableConfig={dataLabels:{show:!0},showTooltip:this.FINAL_CONFIG.chart.tooltip.show===!0,showTable:this.FINAL_CONFIG.showTable===!0,isStacked:this.FINAL_CONFIG.chart.grid.labels.yAxis.stacked,useIndividualScale:this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale},this.FINAL_CONFIG.responsive){const t=this.$refs.chart.parentNode,{height:n,width:c}=t.getBoundingClientRect();let v=null,a=0;this.FINAL_CONFIG.chart.title.show&&(v=this.$refs.chartTitle,a=v.getBoundingClientRect().height);let e=null,C=0;this.FINAL_CONFIG.chart.zoom.show&&this.maxX>6&&this.isDataset&&(e=this.$refs.chartSlicer.$el,C=e.getBoundingClientRect().height);let o=null,N=0;this.FINAL_CONFIG.chart.legend.show&&(o=this.$refs.chartLegend,N=o.getBoundingClientRect().height);let h=0;this.$refs.source&&(h=this.$refs.source.getBoundingClientRect().height);let R=0;this.$refs.noTitle&&(R=this.$refs.source.getBoundingClientRect().height),this.height=n-a-N-C-h-R,this.width=c,this.viewBox=`0 0 ${this.width<0?10:this.width} ${this.height<0?10:this.height}`,this.convertSizes(),new ResizeObserver(z=>{for(const D of z)this.$refs.chartTitle&&(a=this.$refs.chartTitle.getBoundingClientRect().height),this.$refs.chartSlicer&&this.$refs.chartSlicer.$el&&(C=this.$refs.chartSlicer.$el.getBoundingClientRect().height),this.$refs.chartLegend&&(N=this.$refs.chartLegend.getBoundingClientRect().height),this.$refs.source&&(h=this.$refs.source.getBoundingClientRect().height),this.height=D.contentBoxSize[0].blockSize-a-N-C-h-24,this.width=D.contentBoxSize[0].inlineSize,this.viewBox=`0 0 ${this.width<0?10:this.width} ${this.height<0?10:this.height}`,this.convertSizes()}).observe(t)}else this.height=this.FINAL_CONFIG.chart.height,this.width=this.FINAL_CONFIG.chart.width,this.viewBox=`0 0 ${this.width} ${this.height}`,this.fontSizes.dataLabels=this.FINAL_CONFIG.chart.grid.labels.fontSize,this.fontSizes.yAxis=this.FINAL_CONFIG.chart.grid.labels.axis.fontSize,this.fontSizes.xAxis=this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.fontSize,this.fontSizes.plotLabels=this.FINAL_CONFIG.chart.labels.fontSize,this.plotRadii.plot=this.FINAL_CONFIG.plot.radius,this.plotRadii.line=this.FINAL_CONFIG.line.radius},selectMinimapIndex(t){this.selectedMinimapIndex=t},convertSizes(){this.fontSizes.dataLabels=this.translateSize({relator:this.height,adjuster:400,source:this.FINAL_CONFIG.chart.grid.labels.fontSize,threshold:10,fallback:10}),this.fontSizes.yAxis=this.translateSize({relator:this.width,adjuster:1e3,source:this.FINAL_CONFIG.chart.grid.labels.axis.fontSize,threshold:10,fallback:10}),this.fontSizes.xAxis=this.translateSize({relator:this.width,adjuster:1e3,source:this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.fontSize,threshold:10,fallback:10}),this.fontSizes.plotLabels=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.chart.labels.fontSize,threshold:10,fallback:10}),this.plotRadii.plot=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.plot.radius,threshold:1,fallback:1}),this.plotRadii.line=this.translateSize({relator:this.width,adjuster:800,source:this.FINAL_CONFIG.line.radius,threshold:1,fallback:1})},toggleStack(){this.mutableConfig.isStacked=!this.mutableConfig.isStacked,this.mutableConfig.isStacked?this.mutableConfig.useIndividualScale=!0:this.mutableConfig.useIndividualScale=this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale},toggleTable(){this.mutableConfig.showTable=!this.mutableConfig.showTable},toggleLabels(){this.mutableConfig.dataLabels.show=!this.mutableConfig.dataLabels.show},toggleTooltip(){this.mutableConfig.showTooltip=!this.mutableConfig.showTooltip},checkAutoScaleError(t){t.autoScaling&&(this.FINAL_CONFIG.chart.grid.labels.yAxis.useIndividualScale||console.warn(`VueUiXy (datapoint: ${t.name}) : autoScaling only works when config.chart.grid.labels.yAxis.useIndividualScale is set to true`),this.FINAL_CONFIG.chart.grid.labels.yAxis.stacked||console.warn(`VueUiXy (datapoint: ${t.name}) : autoScaling only works when config.chart.grid.labels.yAxis.stacked is set to true`))},createArea(t){if(!t[0])return[-10,-10,"",-10,-10];const n={x:t[0].x,y:this.zero},c={x:t.at(-1).x,y:this.zero},v=[];return t.forEach(a=>{v.push(`${a.x},${a.y} `)}),[n.x,n.y,...v,c.x,c.y].toString()},createIndividualArea(t,n){if(!t[0])return[-10,-10,"",-10,-10];const c={x:t[0]?t[0].x:Math.min(...t.filter(e=>!!e).map(e=>e.x)),y:n},v={x:t.at(-1)?t.at(-1).x:Math.min(...t.filter(e=>!!e).map(e=>e.x)),y:n},a=[];return t.filter(e=>!!e).forEach(e=>{a.push(`${e.x},${e.y} `)}),[c.x,c.y,...a,v.x,v.y].toString()},createStar:me,createPolygonPath:ae,fillArray(t,n){let c=Array(t).fill(0);for(let v=0;v<n.length&&v<t;v+=1)c[v]=n[v];return c},refreshSlicer(){this.slicer={start:0,end:Math.max(...this.dataset.map(t=>t.series.length))},this.slicerStep+=1},calcRectHeight(t){return t.value>=0?this.checkNaN(this.zero-t.y<=0?1e-5:this.zero-t.y):this.checkNaN(t.y-this.zero<=0?1e-5:t.y-this.zero)},calcIndividualHeight(t){return t.value>=0?this.checkNaN(t.zeroPosition-t.y<=0?1e-5:t.zeroPosition-t.y):this.checkNaN(t.y-t.zeroPosition<=0?1e-5:t.zeroPosition-t.y)},calcRectWidth(){return this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?this.slot.line-this.drawingArea.width/this.maxSeries*.1:this.slot.bar},calcRectX(t){return this.mutableConfig.useIndividualScale&&this.mutableConfig.isStacked?t.x+this.drawingArea.width/this.maxSeries*.05:t.x+this.slot.bar/2},calcRectY(t){return t.value>=0?t.y:this.zero},calcIndividualRectY(t){return t.value>=0?t.y:[null,void 0,NaN,1/0,-1/0].includes(t.zeroPosition)?0:t.zeroPosition},canShowValue(t){return![null,void 0,NaN,1/0,-1/0].includes(t)},findClosestValue(t,n){let c=n[0],v=Math.abs(t-n[0]);for(let a=1;a<n.length;a+=1){const e=Math.abs(t-n[a]);e<v&&n[a]<t&&(c=n[a],v=e)}return c},ratioToMax(t){return t/(this.canShowValue(this.absoluteMax)?this.absoluteMax:1)},selectX(t){this.$emit("selectX",{dataset:this.relativeDataset.map(n=>({name:n.name,value:[null,void 0,NaN].includes(n.absoluteValues[t])?null:n.absoluteValues[t],color:n.color,type:n.type})),index:t,indexLabel:this.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[t]})},getData(){return this.absoluteDataset.map(t=>({values:t.absoluteValues,color:t.color,name:t.name,type:t.type}))},segregate(t){if(this.segregatedSeries.includes(t.id))this.segregatedSeries=this.segregatedSeries.filter(n=>n!==t.id);else{if(this.segregatedSeries.length+1===this.safeDataset.length)return;this.segregatedSeries.push(t.id)}this.$emit("selectLegend",this.relativeDataset.map(n=>({name:n.name,values:n.absoluteValues,color:n.color,type:n.type}))),this.segregateStep+=1},toggleTooltipVisibility(t,n=null){this.isTooltip=t,t?this.selectedSerieIndex=n:this.selectedSerieIndex=null},toggleFullscreen(t){this.isFullscreen=t,this.step+=1},showSpinnerPdf(){this.isPrinting=!0},async generatePdf(){this.showSpinnerPdf(),clearTimeout(this.__to__),this.isPrinting=!0,this.__to__=setTimeout(async()=>{try{const{default:t}=await ke(async()=>{const{default:n}=await import("./pdf-B7oVat64-BQLlJ_4B.js").then(c=>c.p);return{default:n}},__vite__mapDeps([0,1,2,3]));await t({domElement:document.getElementById(`vue-ui-xy_${this.uniqueId}`),fileName:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy"})}catch(t){console.error("Error generating PDF:",t)}finally{this.isPrinting=!1}},100)},generateCsv(){const t=[[this.FINAL_CONFIG.chart.title.text],[this.FINAL_CONFIG.chart.title.subtitle.text],[""]],n=["",...this.table.head.map(e=>e.label)],c=this.table.body,v=t.concat([n]).concat(c),a=this.createCsvContent(v);this.downloadCsv({csvContent:a,title:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy"})},showSpinnerImage(){this.isImaging=!0},async generateImage(){this.showSpinnerImage(),clearTimeout(this.__to__),this.isImaging=!0,this.__to__=setTimeout(async()=>{try{const{default:t}=await ke(async()=>{const{default:n}=await import("./img-DGzWcJ4Y-CkddiW4e.js");return{default:n}},__vite__mapDeps([4,1]));await t({domElement:document.getElementById(`vue-ui-xy_${this.uniqueId}`),fileName:this.FINAL_CONFIG.chart.title.text||"vue-ui-xy",format:"png"})}catch(t){console.error("Error generating image:",t)}finally{this.isImaging=!1}},100)}}},la=["id"],ia={key:1,ref:"noTitle",class:"vue-data-ui-no-title-space",style:"height:36px; width: 100%; background:transparent"},sa=["viewBox"],oa={key:0},ra={class:"vue-ui-xy-grid"},na=["stroke","x1","x2","y1","y2"],da=["stroke","x1","x2","y1","y2"],ha={key:1},ca=["x1","x2","y1","y2","stroke"],ua=["x1","x2","y1","y2","stroke"],ga=["x1","x2","y1","y2","stroke"],pa={key:3},fa=["x1","x2","y1","y2","stroke"],ba=["id"],va=["stop-color"],ma=["stop-color"],xa=["stop-color"],ya=["id"],Na=["stop-color"],Ia=["stop-color"],Fa=["stop-color"],ka=["id"],Aa=["stop-color"],_a=["stop-color"],Ca=["id"],La=["stop-color"],wa=["stop-color"],Sa=["id"],Oa=["stop-color"],Ga=["stop-color"],$a=["x","y","height","width","fill"],za=["x","y","width"],Ma=["x","y","height","width","fill"],Pa=["x","y","height","width","rx","fill","stroke","stroke-width"],Ta=["width","x","y"],Va={key:0},Wa=["id"],Ra=["fill"],Da=["x1","x2","y1","y2","stroke","marker-end"],Ea=["x","y","font-size","fill"],Ba=["stroke","x1","x2","y1","y2"],Ha={key:2},Ya=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],ja=["x","y","width","height","stroke","stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray"],Xa={key:4},qa=["x1","x2","y1","y2","stroke","stroke-width"],Ua=["fill","font-size","transform"],Za=["x1","x2","y1","y2","stroke"],Ja=["x","y","font-size","fill"],Qa=["x1","x2","y1","y2","stroke"],Ka=["x","y","font-size","fill"],el=["width","x","y"],tl={style:{width:"100%"}},al={key:0},ll=["id"],il=["fill"],sl=["x1","x2","y1","y2","stroke","marker-end"],ol=["x","y","font-size","fill"],rl=["d","stroke","stroke-width","stroke-dasharray"],nl={key:1},dl=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],hl={key:0},cl=["d","fill"],ul=["d","fill"],gl=["d","stroke","stroke-width","stroke-dasharray"],pl={key:2},fl=["x1","x2","y1","y2","stroke","stroke-width","stroke-dasharray"],bl=["width","x","y"],vl={style:{width:"100%"}},ml={key:3},xl=["id"],yl=["fill"],Nl=["x1","x2","y1","y2","stroke","marker-end"],Il=["x","y","font-size","fill"],Fl={key:5},kl=["x","y","font-size","fill"],Al=["x","y","font-size","fill","font-weight"],_l={key:6},Cl=["x","y","font-size","fill"],Ll=["x","y"],wl=["x","y"],Sl={key:7},Ol=["x","y","font-size","fill"],Gl=["x","y"],$l=["x","y"],zl=["x","y","font-size","fill","innerHTML"],Ml=["x","y","font-size","fill","innerHTML"],Pl=["x","y","font-size","fill","innerHTML"],Tl=["x","y","font-size","fill","innerHTML"],Vl=["x","y","width","height","fill","onMouseenter"],Wl=["font-size","fill","transform"],Rl=["x","y","font-size","fill"],Dl={key:9},El=["text-anchor","font-size","fill","transform"],Bl=["x","y","height","width","onMouseenter","onClick"],Hl={key:10},Yl=["x","y"],jl=["cx","cy","r","fill"],Xl={key:5,class:"vue-data-ui-watermark"},ql=["onClick"],Ul={key:0,viewBox:"0 0 20 12",height:"14",width:"20"},Zl=["fill"],Jl={key:1,viewBox:"0 0 12 12",height:"14",width:"14"},Ql=["fill"],Kl={key:9,ref:"chartLegend"},ei={key:10,ref:"source",dir:"auto"},ti={style:{display:"flex","flex-direction":"row",gap:"6px","align-items":"center","padding-left":"6px"},"data-html2canvas-ignore":""},ai=["innerHTML"];function li(t,n,c,v,a,e){const C=K("PenAndPaper"),o=K("Title"),N=K("UserOptions"),h=K("PackageVersion"),R=K("Shape"),z=K("Skeleton"),D=K("Slicer"),H=K("Tooltip"),w=K("BaseIcon"),x=K("TableSparkline"),j=K("DataTable"),L=K("Accordion");return i(),s("div",{id:`vue-ui-xy_${a.uniqueId}`,class:Z(`vue-ui-xy ${a.isFullscreen?"vue-data-ui-wrapper-fullscreen":""} ${e.FINAL_CONFIG.useCssAnimation?"":"vue-ui-dna"}`),ref:"chart",style:_(`background:${e.FINAL_CONFIG.chart.backgroundColor}; color:${e.FINAL_CONFIG.chart.color};width:100%;font-family:${e.FINAL_CONFIG.chart.fontFamily};${e.FINAL_CONFIG.responsive?"height: 100%":""}`)},[e.FINAL_CONFIG.chart.userOptions.buttons.annotator?(i(),J(C,{key:0,parent:t.$refs.chart,backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color,active:a.isAnnotator,onClose:e.toggleAnnotator},null,8,["parent","backgroundColor","color","active","onClose"])):u("",!0),e.hasOptionsNoTitle?(i(),s("div",ia,null,512)):u("",!0),e.FINAL_CONFIG.chart.title.show?(i(),s("div",{key:2,ref:"chartTitle",class:"vue-ui-xy-title",style:_(`font-family:${e.FINAL_CONFIG.chart.fontFamily}`)},[(i(),J(o,{key:`title_${a.titleStep}`,config:{title:{cy:"xy-div-title",...e.FINAL_CONFIG.chart.title},subtitle:{cy:"xy-div-subtitle",...e.FINAL_CONFIG.chart.title.subtitle}}},null,8,["config"]))],4)):u("",!0),e.FINAL_CONFIG.chart.userOptions.show&&e.isDataset?(i(),J(N,{ref:"defails",key:`user_options_${a.step}`,backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color,isPrinting:a.isPrinting,isImaging:a.isImaging,uid:a.uniqueId,hasTooltip:e.FINAL_CONFIG.chart.userOptions.buttons.tooltip&&e.FINAL_CONFIG.chart.tooltip.show,hasPdf:e.FINAL_CONFIG.chart.userOptions.buttons.pdf,hasXls:e.FINAL_CONFIG.chart.userOptions.buttons.csv,hasImg:e.FINAL_CONFIG.chart.userOptions.buttons.img,hasLabel:e.FINAL_CONFIG.chart.userOptions.buttons.labels,hasTable:e.FINAL_CONFIG.chart.userOptions.buttons.table,hasStack:c.dataset.length>1&&e.FINAL_CONFIG.chart.userOptions.buttons.stack,hasFullscreen:e.FINAL_CONFIG.chart.userOptions.buttons.fullscreen,isStacked:a.mutableConfig.isStacked,isFullscreen:a.isFullscreen,chartElement:t.$refs.chart,position:e.FINAL_CONFIG.chart.userOptions.position,isTooltip:a.mutableConfig.showTooltip,titles:{...e.FINAL_CONFIG.chart.userOptions.buttonTitles},hasAnnotator:e.FINAL_CONFIG.chart.userOptions.buttons.annotator,isAnnotation:a.isAnnotator,onToggleFullscreen:e.toggleFullscreen,onGeneratePdf:e.generatePdf,onGenerateCsv:e.generateCsv,onGenerateImage:e.generateImage,onToggleTable:e.toggleTable,onToggleLabels:e.toggleLabels,onToggleStack:e.toggleStack,onToggleTooltip:e.toggleTooltip,onToggleAnnotator:e.toggleAnnotator},ze({_:2},[t.$slots.optionTooltip?{name:"optionTooltip",fn:q(()=>[W(t.$slots,"optionTooltip",{},void 0,!0)]),key:"0"}:void 0,t.$slots.optionPdf?{name:"optionPdf",fn:q(()=>[W(t.$slots,"optionPdf",{},void 0,!0)]),key:"1"}:void 0,t.$slots.optionCsv?{name:"optionCsv",fn:q(()=>[W(t.$slots,"optionCsv",{},void 0,!0)]),key:"2"}:void 0,t.$slots.optionImg?{name:"optionImg",fn:q(()=>[W(t.$slots,"optionImg",{},void 0,!0)]),key:"3"}:void 0,t.$slots.optionTable?{name:"optionTable",fn:q(()=>[W(t.$slots,"optionTable",{},void 0,!0)]),key:"4"}:void 0,t.$slots.optionLabels?{name:"optionLabels",fn:q(()=>[W(t.$slots,"optionLabels",{},void 0,!0)]),key:"5"}:void 0,t.$slots.optionStack?{name:"optionStack",fn:q(()=>[W(t.$slots,"optionStack",{},void 0,!0)]),key:"6"}:void 0,t.$slots.optionFullscreen?{name:"optionFullscreen",fn:q(({toggleFullscreen:l,isFullscreen:d})=>[W(t.$slots,"optionFullscreen",le(ie({toggleFullscreen:l,isFullscreen:d})),void 0,!0)]),key:"7"}:void 0,t.$slots.optionAnnotator?{name:"optionAnnotator",fn:q(({toggleAnnotator:l,isAnnotator:d})=>[W(t.$slots,"optionAnnotator",le(ie({toggleAnnotator:l,isAnnotator:d})),void 0,!0)]),key:"8"}:void 0]),1032,["backgroundColor","color","isPrinting","isImaging","uid","hasTooltip","hasPdf","hasXls","hasImg","hasLabel","hasTable","hasStack","hasFullscreen","isStacked","isFullscreen","chartElement","position","isTooltip","titles","hasAnnotator","isAnnotation","onToggleFullscreen","onGeneratePdf","onGenerateCsv","onGenerateImage","onToggleTable","onToggleLabels","onToggleStack","onToggleTooltip","onToggleAnnotator"])):u("",!0),e.isDataset?(i(),s("svg",{key:4,xmlns:"http://www.w3.org/2000/svg",class:Z([{"vue-data-ui-fullscreen--on":a.isFullscreen,"vue-data-ui-fulscreen--off":!a.isFullscreen},"vue-ui-xy-svg"]),width:"100%",viewBox:a.viewBox,style:_(`background: transparent; color:${e.FINAL_CONFIG.chart.color}; font-family:${e.FINAL_CONFIG.chart.fontFamily}`)},[de(h),e.maxSeries>0?(i(),s("g",oa,[p("g",ra,[e.FINAL_CONFIG.chart.grid.labels.xAxis.showBaseline?(i(),s("line",{key:0,stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.drawingArea.bottom,y2:e.drawingArea.bottom,"stroke-linecap":"round"},null,8,na)):u("",!0),a.mutableConfig.useIndividualScale?e.FINAL_CONFIG.chart.grid.showHorizontalLines?(i(!0),s(k,{key:2},A(e.allScales,l=>(i(),s("g",null,[l.id===a.selectedScale&&l.yLabels.length?(i(!0),s(k,{key:0},A(l.yLabels,d=>(i(),s("line",{x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(d.y),y2:e.checkNaN(d.y),stroke:l.color,"stroke-width":.5,"stroke-linecap":"round"},null,8,ua))),256)):l.yLabels.length?(i(!0),s(k,{key:1},A(l.yLabels,d=>(i(),s("line",{x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(d.y),y2:e.checkNaN(d.y),stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round"},null,8,ga))),256)):u("",!0)]))),256)):u("",!0):(i(),s(k,{key:1},[e.FINAL_CONFIG.chart.grid.labels.yAxis.showBaseline?(i(),s("line",{key:0,stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.left+e.xPadding,y1:e.drawingArea.top,y2:e.drawingArea.bottom,"stroke-linecap":"round"},null,8,da)):u("",!0),e.FINAL_CONFIG.chart.grid.showHorizontalLines?(i(),s("g",ha,[(i(!0),s(k,null,A(e.yLabels,l=>(i(),s("line",{x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(l.y),y2:e.checkNaN(l.y),stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":.5,"stroke-linecap":"round"},null,8,ca))),256))])):u("",!0)],64)),e.FINAL_CONFIG.chart.grid.showVerticalLines?(i(),s("g",pa,[(i(!0),s(k,null,A(e.maxSeries+(e.FINAL_CONFIG.chart.grid.position==="middle"?1:0),(l,d)=>(i(),s("line",{key:`grid_vertical_line_${d}`,x1:e.drawingArea.width/e.maxSeries*d+e.drawingArea.left+e.xPadding,x2:e.drawingArea.width/e.maxSeries*d+e.drawingArea.left+e.xPadding,y1:e.drawingArea.top,y2:e.drawingArea.bottom,"stroke-width":"0.5",stroke:e.FINAL_CONFIG.chart.grid.stroke},null,8,fa))),128))])):u("",!0)]),(i(!0),s(k,null,A(e.barSet,(l,d)=>(i(),s("defs",{key:`def_rect_${d}`},[p("linearGradient",{id:`rectGradient_pos_${d}_${a.uniqueId}`,x2:"0%",y2:"100%"},[p("stop",{offset:"0%","stop-color":l.color},null,8,va),p("stop",{offset:"62%","stop-color":`${e.shiftHue(l.color,.02)}`},null,8,ma),p("stop",{offset:"100%","stop-color":`${e.shiftHue(l.color,.05)}`},null,8,xa)],8,ba),p("linearGradient",{id:`rectGradient_neg_${d}_${a.uniqueId}`,x2:"0%",y2:"100%"},[p("stop",{offset:"0%","stop-color":`${e.shiftHue(l.color,.05)}`},null,8,Na),p("stop",{offset:"38%","stop-color":`${e.shiftHue(l.color,.02)}`},null,8,Ia),p("stop",{offset:"100%","stop-color":l.color},null,8,Fa)],8,ya)]))),128)),(i(!0),s(k,null,A(e.plotSet,(l,d)=>(i(),s("defs",{key:`def_plot_${d}`},[p("radialGradient",{id:`plotGradient_${d}_${a.uniqueId}`,cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[p("stop",{offset:"0%","stop-color":`${e.shiftHue(l.color,.05)}`},null,8,Aa),p("stop",{offset:"100%","stop-color":l.color},null,8,_a)],8,ka)]))),128)),(i(!0),s(k,null,A(e.lineSet,(l,d)=>(i(),s("defs",{key:`def_line_${d}`},[p("radialGradient",{id:`lineGradient_${d}_${a.uniqueId}`,cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},[p("stop",{offset:"0%","stop-color":`${e.shiftHue(l.color,.05)}`},null,8,La),p("stop",{offset:"100%","stop-color":l.color},null,8,wa)],8,Ca),p("linearGradient",{id:`areaGradient_${d}_${a.uniqueId}`,x1:"0%",x2:"100%",y1:"0%",y2:"0%"},[p("stop",{offset:"0%","stop-color":`${e.setOpacity(e.shiftHue(l.color,.03),e.FINAL_CONFIG.line.area.opacity)}`},null,8,Oa),p("stop",{offset:"100%","stop-color":`${e.setOpacity(l.color,e.FINAL_CONFIG.line.area.opacity)}`},null,8,Ga)],8,Sa)]))),128)),(i(!0),s(k,null,A(e.highlightAreas,l=>(i(),s("g",null,[l.show?(i(!0),s(k,{key:0},A(l.span,(d,r)=>(i(),s("g",null,[p("rect",{style:_({transition:"none",opacity:l.from+r>=a.slicer.start&&l.from+r<=a.slicer.end-1?1:0}),x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*(l.from+r-a.slicer.start),y:e.drawingArea.top,height:e.drawingArea.height<0?10:e.drawingArea.height,width:e.drawingArea.width/e.maxSeries<0?1e-5:e.drawingArea.width/e.maxSeries,fill:e.setOpacity(l.color,l.opacity)},null,12,$a),l.caption.text&&r===0?(i(),s("foreignObject",{key:0,x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*(l.from+r-a.slicer.start)-(l.caption.width==="auto"?0:l.caption.width/2-e.drawingArea.width/e.maxSeries*l.span/2),y:e.drawingArea.top+l.caption.offsetY,style:_({overflow:"visible",opacity:l.to>=a.slicer.start&&l.from<a.slicer.end?1:0}),height:"1",width:l.caption.width==="auto"?e.drawingArea.width/e.maxSeries*l.span:l.caption.width},[p("div",{style:_(`padding:${l.caption.padding}px;text-align:${l.caption.textAlign};font-size:${l.caption.fontSize}px;color:${l.caption.color};font-weight:${l.caption.bold?"bold":"normal"}`)},$(l.caption.text),5)],12,za)):u("",!0)]))),256)):u("",!0)]))),256)),p("g",null,[(i(!0),s(k,null,A(e.maxSeries,(l,d)=>(i(),s("g",{key:`tooltip_trap_${d}`},[p("rect",{x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*d,y:e.drawingArea.top,height:e.drawingArea.height<0?10:e.drawingArea.height,width:e.drawingArea.width/e.maxSeries<0?1e-5:e.drawingArea.width/e.maxSeries,fill:[a.selectedMinimapIndex,a.selectedSerieIndex,a.selectedRowIndex].includes(d)?e.setOpacity(e.FINAL_CONFIG.chart.highlighter.color,e.FINAL_CONFIG.chart.highlighter.opacity):"transparent"},null,8,Ma)]))),128))]),e.barSet.length?(i(!0),s(k,{key:0},A(e.barSet,(l,d)=>(i(),s("g",{key:`serie_bar_${d}`,class:Z(`serie_bar_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`bar_plot_${d}_${b}`},[e.canShowValue(r.value)?(i(),s("rect",{key:0,x:e.calcRectX(r),y:a.mutableConfig.useIndividualScale?e.calcIndividualRectY(r):e.calcRectY(r),height:a.mutableConfig.useIndividualScale?Math.abs(e.calcIndividualHeight(r)):Math.abs(e.calcRectHeight(r)),width:e.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:e.barPeriodGap)<0?1e-5:e.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:e.barPeriodGap),rx:e.FINAL_CONFIG.bar.borderRadius,fill:e.FINAL_CONFIG.bar.useGradient?r.value>=0?`url(#rectGradient_pos_${d}_${a.uniqueId})`:`url(#rectGradient_neg_${d}_${a.uniqueId})`:l.color,stroke:e.FINAL_CONFIG.bar.border.useSerieColor?l.color:e.FINAL_CONFIG.bar.border.stroke,"stroke-width":e.FINAL_CONFIG.bar.border.strokeWidth},null,8,Pa)):u("",!0),r.comment&&e.FINAL_CONFIG.chart.comments.show?(i(),s("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:(e.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:e.barPeriodGap)<0?1e-5:e.calcRectWidth()-(a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?0:e.barPeriodGap)/2)+e.FINAL_CONFIG.chart.comments.width,x:e.calcRectX(r)-e.FINAL_CONFIG.chart.comments.width/2+e.FINAL_CONFIG.chart.comments.offsetX,y:e.checkNaN(r.y)+e.FINAL_CONFIG.chart.comments.offsetY+6},[W(t.$slots,"plot-comment",{plot:{...r,color:l.color,seriesIndex:d,datapointIndex:b}},void 0,!0)],8,Ta)):u("",!0)]))),128)),Object.hasOwn(l,"useProgression")&&l.useProgression===!0&&!isNaN(e.calcLinearProgression(l.plots).trend)?(i(),s("g",Va,[p("defs",null,[p("marker",{id:`bar_arrow_${d}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[p("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:l.color},null,8,Ra)],8,Wa)]),l.plots.length>1?(i(),s("line",{key:0,x1:e.calcLinearProgression(l.plots).x1,x2:e.calcLinearProgression(l.plots).x2,y1:e.calcLinearProgression(l.plots).y1,y2:e.calcLinearProgression(l.plots).y2,"stroke-width":1,stroke:l.color,"stroke-dasharray":2,"marker-end":`url(#bar_arrow_${d})`},null,8,Da)):u("",!0),l.plots.length>1?(i(),s("text",{key:1,"text-anchor":"middle",x:e.calcLinearProgression(l.plots).x2,y:e.calcLinearProgression(l.plots).y2-6,"font-size":a.fontSizes.plotLabels,fill:l.color},$(e.dataLabel({v:e.calcLinearProgression(l.plots).trend*100,s:"%",r:2})),9,Ea)):u("",!0)])):u("",!0)],6))),128)):u("",!0),!a.mutableConfig.useIndividualScale&&e.FINAL_CONFIG.chart.grid.labels.zeroLine.show?(i(),s("line",{key:1,stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1",x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.right-e.xPadding,y1:e.checkNaN(e.zero),y2:e.checkNaN(e.zero),"stroke-linecap":"round"},null,8,Ba)):u("",!0),e.FINAL_CONFIG.chart.highlighter.useLine&&(![null,void 0].includes(a.selectedSerieIndex)||a.selectedMinimapIndex!==null)?(i(),s("g",Ha,[p("line",{x1:e.drawingArea.left+e.drawingArea.width/e.maxSeries*(a.selectedSerieIndex||a.selectedMinimapIndex)+e.drawingArea.width/e.maxSeries/2,x2:e.drawingArea.left+e.drawingArea.width/e.maxSeries*(a.selectedSerieIndex||a.selectedMinimapIndex)+e.drawingArea.width/e.maxSeries/2,y1:e.drawingArea.top,y2:e.drawingArea.bottom,stroke:e.FINAL_CONFIG.chart.highlighter.color,"stroke-width":e.FINAL_CONFIG.chart.highlighter.lineWidth,"stroke-dasharray":e.FINAL_CONFIG.chart.highlighter.lineDasharray,"stroke-linecap":"round",style:{transition:"none !important",animation:"none !important","pointer-events":"none"}},null,8,Ya)])):u("",!0),e.FINAL_CONFIG.chart.grid.frame.show?(i(),s("rect",{key:3,style:{pointerEvents:"none",transition:"none"},x:e.drawingArea.left+e.xPadding<0?0:e.drawingArea.left+e.xPadding,y:e.drawingArea.top,width:e.drawingArea.width-(e.FINAL_CONFIG.chart.grid.position==="middle"?0:e.drawingArea.width/e.maxSeries)<0?0:e.drawingArea.width-(e.FINAL_CONFIG.chart.grid.position==="middle"?0:e.drawingArea.width/e.maxSeries),height:e.drawingArea.height<0?0:e.drawingArea.height,fill:"transparent",stroke:e.FINAL_CONFIG.chart.grid.frame.stroke,"stroke-width":e.FINAL_CONFIG.chart.grid.frame.strokeWidth,"stroke-linecap":e.FINAL_CONFIG.chart.grid.frame.strokeLinecap,"stroke-linejoin":e.FINAL_CONFIG.chart.grid.frame.strokeLinejoin,"stroke-dasharray":e.FINAL_CONFIG.chart.grid.frame.strokeDasharray},null,8,ja)):u("",!0),e.FINAL_CONFIG.chart.grid.labels.show?(i(),s("g",Xa,[a.mutableConfig.useIndividualScale?(i(),s(k,{key:0},[(i(!0),s(k,null,A(e.allScales,l=>(i(),s("g",null,[p("line",{x1:l.x+e.xPadding,x2:l.x+e.xPadding,y1:a.mutableConfig.isStacked?e.checkNaN(e.drawingArea.bottom-l.yOffset-l.individualHeight):e.checkNaN(e.drawingArea.top),y2:a.mutableConfig.isStacked?e.checkNaN(e.drawingArea.bottom-l.yOffset):e.checkNaN(e.drawingArea.bottom),stroke:l.color,"stroke-width":e.FINAL_CONFIG.chart.grid.stroke,"stroke-linecap":"round",style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.3:1};transition:opacity 0.2s ease-in-out`)},null,12,qa)]))),256)),(i(!0),s(k,null,A(e.allScales,l=>(i(),s("g",{style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.3:1};transition:opacity 0.2s ease-in-out`)},[p("text",{fill:l.color,"font-size":a.fontSizes.dataLabels,"text-anchor":"middle",transform:`translate(${l.x-e.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth+5}, ${a.mutableConfig.isStacked?e.drawingArea.bottom-l.yOffset-l.individualHeight/2:e.drawingArea.top+e.drawingArea.height/2}) rotate(-90)`},$(l.name)+" "+$(l.scaleLabel?`- ${l.scaleLabel}`:""),9,Ua),(i(!0),s(k,null,A(l.yLabels,(d,r)=>(i(),s("line",{x1:l.x-3+e.xPadding,x2:l.x+e.xPadding,y1:e.checkNaN(d.y),y2:e.checkNaN(d.y),stroke:l.color,"stroke-width":1,"stroke-linecap":"round"},null,8,Za))),256)),(i(!0),s(k,null,A(l.yLabels,(d,r)=>(i(),s("text",{x:l.x-5+e.xPadding,y:e.checkNaN(d.y)+a.fontSizes.dataLabels/3,"font-size":a.fontSizes.dataLabels,"text-anchor":"end",fill:l.color},$(e.applyDataLabel(e.FINAL_CONFIG.chart.grid.labels.yAxis.formatter,d.value,e.dataLabel({p:d.prefix,v:d.value,s:d.suffix,r:1}),{datapoint:d.datapoint,seriesIndex:r})),9,Ja))),256))],4))),256))],64)):(i(!0),s(k,{key:1},A(e.yLabels,(l,d)=>(i(),s("g",{key:`yLabel_${d}`},[e.canShowValue(l)&&l.value>=e.niceScale.min&&l.value<=e.niceScale.max?(i(),s("line",{key:0,x1:e.drawingArea.left+e.xPadding,x2:e.drawingArea.left-5+e.xPadding,y1:e.checkNaN(l.y),y2:e.checkNaN(l.y),stroke:e.FINAL_CONFIG.chart.grid.stroke,"stroke-width":"1","stroke-linecap":"round"},null,8,Qa)):u("",!0),l.value>=e.niceScale.min&&l.value<=e.niceScale.max?(i(),s("text",{key:1,x:e.drawingArea.left-7+e.xPadding,y:e.checkNaN(l.y+a.fontSizes.dataLabels/3),"font-size":a.fontSizes.dataLabels,"text-anchor":"end",fill:e.FINAL_CONFIG.chart.grid.labels.color},$(e.canShowValue(l.value)?e.applyDataLabel(e.FINAL_CONFIG.chart.grid.labels.yAxis.formatter,l.value,e.dataLabel({p:l.prefix,v:l.value,s:l.suffix,r:1})):""),9,Ka)):u("",!0)]))),128))])):u("",!0),(i(!0),s(k,null,A(e.plotSet,(l,d)=>(i(),s("g",{key:`serie_plot_${d}`,class:Z(`serie_plot_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`circle_plot_${d}_${b}`},[r&&e.canShowValue(r.value)?(i(),J(R,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(l.shape)?l.shape:"circle",color:e.FINAL_CONFIG.plot.useGradient?`url(#plotGradient_${d}_${a.uniqueId})`:e.FINAL_CONFIG.plot.dot.useSerieColor?l.color:e.FINAL_CONFIG.plot.dot.fill,plot:{x:e.checkNaN(r.x),y:e.checkNaN(r.y)},radius:a.selectedSerieIndex!==null&&a.selectedSerieIndex===b||a.selectedMinimapIndex!==null&&a.selectedMinimapIndex===b?(a.plotRadii.plot||6)*1.5:a.plotRadii.plot||6,stroke:e.FINAL_CONFIG.plot.dot.useSerieColor?e.FINAL_CONFIG.chart.backgroundColor:l.color,strokeWidth:e.FINAL_CONFIG.plot.dot.strokeWidth},null,8,["shape","color","plot","radius","stroke","strokeWidth"])):u("",!0),r.comment&&e.FINAL_CONFIG.chart.comments.show?(i(),s("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:e.FINAL_CONFIG.chart.comments.width,x:r.x-e.FINAL_CONFIG.chart.comments.width/2+e.FINAL_CONFIG.chart.comments.offsetX,y:r.y+e.FINAL_CONFIG.chart.comments.offsetY+6},[p("div",tl,[W(t.$slots,"plot-comment",{plot:{...r,color:l.color,seriesIndex:d,datapointIndex:b}},void 0,!0)])],8,el)):u("",!0)]))),128)),Object.hasOwn(l,"useProgression")&&l.useProgression===!0&&!isNaN(e.calcLinearProgression(l.plots).trend)?(i(),s("g",al,[p("defs",null,[p("marker",{id:`plot_arrow_${d}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[p("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:l.color},null,8,il)],8,ll)]),l.plots.length>1?(i(),s("line",{key:0,x1:e.calcLinearProgression(l.plots).x1,x2:e.calcLinearProgression(l.plots).x2,y1:e.calcLinearProgression(l.plots).y1,y2:e.calcLinearProgression(l.plots).y2,"stroke-width":1,stroke:l.color,"stroke-dasharray":2,"marker-end":`url(#plot_arrow_${d})`},null,8,sl)):u("",!0),l.plots.length>1?(i(),s("text",{key:1,"text-anchor":"middle",x:e.calcLinearProgression(l.plots).x2,y:e.calcLinearProgression(l.plots).y2-6,"font-size":a.fontSizes.plotLabels,fill:l.color},$(e.dataLabel({v:e.calcLinearProgression(l.plots).trend*100,s:"%",r:2})),9,ol)):u("",!0)])):u("",!0)],6))),128)),(i(!0),s(k,null,A(e.lineSet,(l,d)=>(i(),s("g",{key:`serie_line_${d}`,class:Z(`serie_line_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[l.smooth&&l.plots.length>1?(i(),s("path",{key:0,d:`M${l.curve}`,stroke:e.FINAL_CONFIG.chart.backgroundColor,"stroke-width":e.FINAL_CONFIG.line.strokeWidth+1,"stroke-dasharray":l.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,fill:"none"},null,8,rl)):l.plots.length>1?(i(),s("g",nl,[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`line_${d}_${b}`},[r&&b<l.plots.length-1&&l.plots[b+1]&&e.canShowValue(r.value)&&e.canShowValue(l.plots[b+1].value)?(i(),s("line",{key:0,x1:r.x,x2:l.plots[b+1].x,y1:r.y,y2:l.plots[b+1].y,stroke:e.FINAL_CONFIG.chart.backgroundColor,"stroke-width":e.FINAL_CONFIG.line.strokeWidth+1,"stroke-dasharray":l.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,dl)):u("",!0)]))),128))])):u("",!0)],6))),128)),(i(!0),s(k,null,A(e.lineSet,(l,d)=>(i(),s("g",{key:`serie_line_${d}`,class:Z(`serie_line_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[l.useArea&&l.plots.length>1?(i(),s("g",hl,[l.smooth?(i(),s("path",{key:0,d:`M ${l.plots[0]?l.plots[0].x:Math.min(...l.plots.filter(r=>!!r).map(r=>r.x))},${a.mutableConfig.isStacked?e.drawingArea.bottom-l.yOffset:e.drawingArea.bottom} ${l.curve} L ${l.plots.at(-1)?l.plots.at(-1).x:e.drawingArea.left+e.slot.line*d+e.slot.line/2},${a.mutableConfig.isStacked?e.drawingArea.bottom-l.yOffset:e.drawingArea.bottom} Z`,fill:e.FINAL_CONFIG.line.area.useGradient?`url(#areaGradient_${d}_${a.uniqueId})`:e.setOpacity(l.color,e.FINAL_CONFIG.line.area.opacity)},null,8,cl)):(i(),s("path",{key:1,d:`M${l.area}Z`,fill:e.FINAL_CONFIG.line.area.useGradient?`url(#areaGradient_${d}_${a.uniqueId})`:e.setOpacity(l.color,e.FINAL_CONFIG.line.area.opacity)},null,8,ul))])):u("",!0),l.smooth&&l.plots.length>1?(i(),s("path",{key:1,d:`M${l.curve}`,stroke:l.color,"stroke-width":e.FINAL_CONFIG.line.strokeWidth,"stroke-dasharray":l.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,fill:"none"},null,8,gl)):l.plots.length>1?(i(),s("g",pl,[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`line_${d}_${b}`},[r&&b<l.plots.length-1&&l.plots[b+1]&&e.canShowValue(r.value)&&e.canShowValue(l.plots[b+1].value)?(i(),s("line",{key:0,x1:r.x,x2:l.plots[b+1].x,y1:r.y,y2:l.plots[b+1].y,stroke:l.color,"stroke-width":e.FINAL_CONFIG.line.strokeWidth,"stroke-dasharray":l.dashed?e.FINAL_CONFIG.line.strokeWidth*2:0,"stroke-linejoin":"round","stroke-linecap":"round"},null,8,fl)):u("",!0)]))),128))])):u("",!0),(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`circle_line_${d}_${b}`},[r&&e.canShowValue(r.value)?(i(),J(R,{key:0,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(l.shape)?l.shape:"circle",color:e.FINAL_CONFIG.line.useGradient?`url(#lineGradient_${d}_${a.uniqueId})`:e.FINAL_CONFIG.line.dot.useSerieColor?l.color:e.FINAL_CONFIG.line.dot.fill,plot:{x:e.checkNaN(r.x),y:e.checkNaN(r.y)},radius:a.selectedSerieIndex!==null&&a.selectedSerieIndex===b||a.selectedMinimapIndex!==null&&a.selectedMinimapIndex===b?(a.plotRadii.line||6)*1.5:a.plotRadii.line||6,stroke:e.FINAL_CONFIG.line.dot.useSerieColor?e.FINAL_CONFIG.chart.backgroundColor:l.color,strokeWidth:e.FINAL_CONFIG.line.dot.strokeWidth},null,8,["shape","color","plot","radius","stroke","strokeWidth"])):u("",!0),r.comment&&e.FINAL_CONFIG.chart.comments.show?(i(),s("foreignObject",{key:1,style:{overflow:"visible"},height:"12",width:e.FINAL_CONFIG.chart.comments.width,x:r.x-e.FINAL_CONFIG.chart.comments.width/2+e.FINAL_CONFIG.chart.comments.offsetX,y:r.y+e.FINAL_CONFIG.chart.comments.offsetY+6},[p("div",vl,[W(t.$slots,"plot-comment",{plot:{...r,color:l.color,seriesIndex:d,datapointIndex:b}},void 0,!0)])],8,bl)):u("",!0)]))),128)),Object.hasOwn(l,"useProgression")&&l.useProgression===!0&&!isNaN(e.calcLinearProgression(l.plots).trend)?(i(),s("g",ml,[p("defs",null,[p("marker",{id:`line_arrow_${d}`,markerWidth:7,markerHeight:7,refX:"0",refY:7/2,orient:"auto"},[p("polygon",{points:`0 0, 7 ${7/2}, 0 7`,fill:l.color},null,8,yl)],8,xl)]),l.plots.length>1?(i(),s("line",{key:0,x1:e.calcLinearProgression(l.plots).x1,x2:e.calcLinearProgression(l.plots).x2,y1:e.calcLinearProgression(l.plots).y1,y2:e.calcLinearProgression(l.plots).y2,"stroke-width":1,stroke:l.color,"stroke-dasharray":2,"marker-end":`url(#line_arrow_${d})`},null,8,Nl)):u("",!0),l.plots.length>1?(i(),s("text",{key:1,"text-anchor":"middle",x:e.calcLinearProgression(l.plots).x2,y:e.calcLinearProgression(l.plots).y2-6,"font-size":a.fontSizes.plotLabels,fill:l.color},$(e.dataLabel({v:e.calcLinearProgression(l.plots).trend*100,s:"%",r:2})),9,Il)):u("",!0)])):u("",!0)],6))),128)),(e.FINAL_CONFIG.bar.labels.show||e.FINAL_CONFIG.bar.serieName.show)&&a.mutableConfig.dataLabels.show?(i(),s("g",Fl,[(i(!0),s(k,null,A(e.barSet,(l,d)=>(i(),s("g",{key:`xLabel_bar_${d}`,class:Z(`xLabel_bar_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`xLabel_bar_${d}_${b}`},[r&&(!Object.hasOwn(l,"dataLabels")||l.dataLabels===!0)&&e.FINAL_CONFIG.bar.labels.show?(i(),s("text",{key:0,x:a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?r.x+e.slot.line/2:e.calcRectX(r)+e.calcRectWidth()/2-e.barPeriodGap/2,y:e.checkNaN(r.y)+(r.value>0?e.FINAL_CONFIG.bar.labels.offsetY:-e.FINAL_CONFIG.bar.labels.offsetY*3),"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:e.FINAL_CONFIG.bar.labels.color},$(e.canShowValue(r.value)?e.applyDataLabel(e.FINAL_CONFIG.bar.labels.formatter,r.value,e.dataLabel({p:l.prefix||e.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:l.suffix||e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.bar.labels.rounding}),{datapoint:r,serie:l}):""),9,kl)):u("",!0),r&&e.FINAL_CONFIG.bar.serieName.show?(i(),s("text",{key:1,x:a.mutableConfig.useIndividualScale&&a.mutableConfig.isStacked?r.x+e.slot.line/2:r.x+e.calcRectWidth()*1.1,y:r.y+(r.value>0?e.FINAL_CONFIG.bar.serieName.offsetY:-e.FINAL_CONFIG.bar.serieName.offsetY*3),"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:e.FINAL_CONFIG.bar.serieName.useSerieColor?l.color:e.FINAL_CONFIG.bar.serieName.color,"font-weight":e.FINAL_CONFIG.bar.serieName.bold?"bold":"normal"},$(e.FINAL_CONFIG.bar.serieName.useAbbreviation?e.abbreviate({source:l.name,length:e.FINAL_CONFIG.bar.serieName.abbreviationSize}):l.name),9,Al)):u("",!0)]))),128))],6))),128))])):u("",!0),e.FINAL_CONFIG.plot.labels.show&&a.mutableConfig.dataLabels.show?(i(),s("g",_l,[(i(!0),s(k,null,A(e.plotSet,(l,d)=>(i(),s("g",{key:`xLabel_plot_${d}`,class:Z(`xLabel_plot_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`xLabel_plot_${d}_${b}`},[r&&!Object.hasOwn(l,"dataLabels")||l.dataLabels===!0?(i(),s("text",{key:0,x:r.x,y:r.y+e.FINAL_CONFIG.plot.labels.offsetY,"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:e.FINAL_CONFIG.plot.labels.color},$(e.canShowValue(r.value)?e.applyDataLabel(e.FINAL_CONFIG.plot.labels.formatter,r.value,e.dataLabel({p:l.prefix||e.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:l.suffix||e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.plot.labels.rounding}),{datapoint:r,serie:l}):""),9,Cl)):u("",!0),r&&b===0&&l.useTag&&l.useTag==="start"?(i(),s("foreignObject",{key:1,x:r.x,y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:_(`padding: 3px; background:${e.setOpacity(l.color,80)};color:${e.adaptColorToBackground(l.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},$(l.name),5)],8,Ll)):u("",!0),r&&b===l.plots.length-1&&l.useTag&&l.useTag==="end"?(i(),s("foreignObject",{key:2,x:r.x-l.name.length*(a.fontSizes.plotLabels/2),y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:_(`padding: 3px; background:${e.setOpacity(l.color,80)};color:${e.adaptColorToBackground(l.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},$(l.name),5)],8,wl)):u("",!0)]))),128))],6))),128))])):u("",!0),e.FINAL_CONFIG.line.labels.show&&a.mutableConfig.dataLabels.show?(i(),s("g",Sl,[(i(!0),s(k,null,A(e.lineSet,(l,d)=>(i(),s("g",{key:`xLabel_line_${d}`,class:Z(`xLabel_line_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`xLabel_line_${d}_${b}`},[r&&!Object.hasOwn(l,"dataLabels")||l.dataLabels===!0?(i(),s("text",{key:0,x:r.x,y:r.y+(r.value>0?e.FINAL_CONFIG.line.labels.offsetY:-e.FINAL_CONFIG.line.labels.offsetY*3),"text-anchor":"middle","font-size":a.fontSizes.plotLabels,fill:e.FINAL_CONFIG.line.labels.color},$(e.canShowValue(r.value)?e.applyDataLabel(e.FINAL_CONFIG.line.labels.formatter,r.value,e.dataLabel({p:l.prefix||e.FINAL_CONFIG.chart.labels.prefix,v:r.value,s:l.suffix||e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.line.labels.rounding}),{datapoint:r,serie:l}):""),9,Ol)):u("",!0),r&&b===0&&l.useTag&&l.useTag==="start"?(i(),s("foreignObject",{key:1,x:r.x,y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:_(`padding: 3px; background:${e.setOpacity(l.color,80)};color:${e.adaptColorToBackground(l.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},$(l.name),5)],8,Gl)):u("",!0),r&&b===l.plots.length-1&&l.useTag&&l.useTag==="end"?(i(),s("foreignObject",{key:2,x:r.x-l.name.length*(a.fontSizes.plotLabels/2),y:r.y-20,height:24,width:"150",style:{overflow:"visible"}},[p("div",{style:_(`padding: 3px; background:${e.setOpacity(l.color,80)};color:${e.adaptColorToBackground(l.color)};width:fit-content;font-size:${a.fontSizes.plotLabels}px;border-radius: 2px;`)},$(l.name),5)],8,$l)):u("",!0)]))),128))],6))),128))])):u("",!0),(i(!0),s(k,null,A(e.lineSet,(l,d)=>(i(),s("g",{key:`xLabel_line_${d}`,class:Z(`xLabel_line_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`xLabel_line_${d}_${b}`},[r&&b===0&&l.showSerieName&&l.showSerieName==="start"?(i(),s("text",{key:0,x:r.x-a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"end",fill:l.color,innerHTML:e.createTSpans({content:l.name,fontSize:a.fontSizes.plotLabels,fill:l.color,x:r.x-a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,zl)):u("",!0),r&&b===l.plots.length-1&&l.showSerieName&&l.showSerieName==="end"?(i(),s("text",{key:1,x:r.x+a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"start",fill:l.color,innerHTML:e.createTSpans({content:l.name,fontSize:a.fontSizes.plotLabels,fill:l.color,x:r.x+a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,Ml)):u("",!0)]))),128))],6))),128)),(i(!0),s(k,null,A(e.plotSet,(l,d)=>(i(),s("g",{key:`xLabel_plot_${d}`,class:Z(`xLabel_plot_${d}`),style:_(`opacity:${a.selectedScale?a.selectedScale===l.id?1:.2:1};transition:opacity 0.2s ease-in-out`)},[(i(!0),s(k,null,A(l.plots,(r,b)=>(i(),s("g",{key:`xLabel_plot_${d}_${b}`},[r&&b===0&&l.showSerieName&&l.showSerieName==="start"?(i(),s("text",{key:0,x:r.x-a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"end",fill:l.color,innerHTML:e.createTSpans({content:l.name,fontSize:a.fontSizes.plotLabels,fill:l.color,x:r.x-a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,Pl)):u("",!0),r&&b===l.plots.length-1&&l.showSerieName&&l.showSerieName==="end"?(i(),s("text",{key:1,x:r.x+a.fontSizes.plotLabels,y:r.y,"font-size":a.fontSizes.plotLabels,"text-anchor":"start",fill:l.color,innerHTML:e.createTSpans({content:l.name,fontSize:a.fontSizes.plotLabels,fill:l.color,x:r.x+a.fontSizes.plotLabels,y:r.y,maxWords:2})},null,8,Tl)):u("",!0)]))),128))],6))),128)),a.mutableConfig.useIndividualScale&&!a.mutableConfig.isStacked?(i(!0),s(k,{key:8},A(e.allScales,l=>(i(),s("rect",{x:l.x-e.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth,y:e.drawingArea.top,width:e.FINAL_CONFIG.chart.grid.labels.yAxis.labelWidth,height:e.drawingArea.height<0?10:e.drawingArea.height,fill:a.selectedScale===l.id?e.setOpacity(l.color,20):"transparent",onMouseenter:d=>a.selectedScale=l.id,onMouseleave:n[0]||(n[0]=d=>a.selectedScale=null)},null,40,Vl))),256)):u("",!0),p("g",null,[e.FINAL_CONFIG.chart.grid.labels.axis.yLabel&&!a.mutableConfig.useIndividualScale?(i(),s("text",{key:0,"font-size":a.fontSizes.yAxis,fill:e.FINAL_CONFIG.chart.grid.labels.color,transform:`translate(${a.fontSizes.yAxis+e.FINAL_CONFIG.chart.grid.labels.axis.yLabelOffsetX}, ${e.drawingArea.top+e.drawingArea.height/2}) rotate(-90)`,"text-anchor":"middle",style:{transition:"none"}},$(e.FINAL_CONFIG.chart.grid.labels.axis.yLabel),9,Wl)):u("",!0),e.FINAL_CONFIG.chart.grid.labels.axis.xLabel?(i(),s("text",{key:1,"text-anchor":"middle",x:a.width/2,y:e.drawingArea.bottom+a.fontSizes.yAxis+a.fontSizes.xAxis*1.3+e.FINAL_CONFIG.chart.grid.labels.axis.xLabelOffsetY,"font-size":a.fontSizes.yAxis,fill:e.FINAL_CONFIG.chart.grid.labels.color},$(e.FINAL_CONFIG.chart.grid.labels.axis.xLabel),9,Rl)):u("",!0)]),e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.show?(i(),s("g",Dl,[(i(!0),s(k,null,A(e.timeLabels,(l,d)=>(i(),s("g",{key:`time_label_${d}`},[l&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||l&&e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&(d===0||d===e.timeLabels.length-1)&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||l&&e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&a.selectedSerieIndex===d&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo||l&&!e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyFirstAndLast&&e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.showOnlyAtModulo&&d%Math.floor((this.slicer.end-this.slicer.start)/e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.modulo)===0?(i(),s("text",{key:0,"text-anchor":e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation>0?"start":e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation<0?"end":"middle","font-size":a.fontSizes.xAxis,fill:e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.color,transform:`translate(${e.drawingArea.left+e.drawingArea.width/e.maxSeries*d+e.drawingArea.width/e.maxSeries/2}, ${e.drawingArea.bottom+a.fontSizes.xAxis*1.3+e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.yOffset}), rotate(${e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.rotation})`},$(l||""),9,El)):u("",!0)]))),128))])):u("",!0),p("g",null,[(i(!0),s(k,null,A(e.maxSeries,(l,d)=>(i(),s("g",{key:`tooltip_trap_${d}`},[p("rect",{"data-cy-trap":"",x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*d,y:e.drawingArea.top,height:e.drawingArea.height<0?10:e.drawingArea.height,width:e.drawingArea.width/e.maxSeries<0?1e-5:e.drawingArea.width/e.maxSeries,fill:"transparent",onMouseenter:r=>e.toggleTooltipVisibility(!0,d),onMouseleave:n[1]||(n[1]=r=>e.toggleTooltipVisibility(!1)),onClick:r=>e.selectX(d)},null,40,Bl)]))),128))]),e.FINAL_CONFIG.chart.timeTag.show&&![null,void 0].includes(a.selectedSerieIndex)?(i(),s("g",Hl,[(i(),s("foreignObject",{x:e.drawingArea.left+e.drawingArea.width/e.maxSeries*a.selectedSerieIndex-100+e.drawingArea.width/e.maxSeries/2,y:e.drawingArea.bottom,width:"200",height:"40",style:{overflow:"visible !important"}},[p("div",{class:"vue-ui-xy-time-tag",style:_(`width: fit-content;margin: 0 auto;text-align:center;padding:3px 12px;background:${e.FINAL_CONFIG.chart.timeTag.backgroundColor};color:${e.FINAL_CONFIG.chart.timeTag.color};font-size:${e.FINAL_CONFIG.chart.timeTag.fontSize}px`)},$(e.timeLabels[a.selectedSerieIndex]||a.selectedSerieIndex),5)],8,Yl)),p("circle",{cx:e.drawingArea.left+e.drawingArea.width/e.maxSeries*a.selectedSerieIndex+e.drawingArea.width/e.maxSeries/2,cy:e.drawingArea.bottom,r:e.FINAL_CONFIG.chart.timeTag.circleMarker.radius,fill:e.FINAL_CONFIG.chart.timeTag.circleMarker.color},null,8,jl)])):u("",!0)])):u("",!0),W(t.$slots,"svg",{svg:e.svg},void 0,!0)],14,sa)):u("",!0),t.$slots.watermark?(i(),s("div",Xl,[W(t.$slots,"watermark",le(ie({isPrinting:a.isPrinting||a.isImaging})),void 0,!0)])):u("",!0),e.isDataset?u("",!0):(i(),J(z,{key:6,config:{type:"line",style:{backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,line:{axis:{color:e.FINAL_CONFIG.chart.grid.stroke},path:{color:e.FINAL_CONFIG.chart.grid.stroke,strokeWidth:.5}}}}},null,8,["config"])),e.FINAL_CONFIG.chart.zoom.show&&a.maxX>6&&e.isDataset?(i(),J(D,{ref:"chartSlicer",key:`slicer_${a.slicerStep}`,background:e.FINAL_CONFIG.chart.zoom.color,fontSize:e.FINAL_CONFIG.chart.zoom.fontSize,useResetSlot:e.FINAL_CONFIG.chart.zoom.useResetSlot,labelLeft:e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[a.slicer.start],labelRight:e.FINAL_CONFIG.chart.grid.labels.xAxisLabels.values[a.slicer.end-1],textColor:e.FINAL_CONFIG.chart.color,inputColor:e.FINAL_CONFIG.chart.zoom.color,selectColor:e.FINAL_CONFIG.chart.zoom.highlightColor,borderColor:e.FINAL_CONFIG.chart.backgroundColor,minimap:e.minimap,smoothMinimap:e.FINAL_CONFIG.chart.zoom.minimap.smooth,minimapSelectedColor:e.FINAL_CONFIG.chart.zoom.minimap.selectedColor,minimapSelectionRadius:e.FINAL_CONFIG.chart.zoom.minimap.selectionRadius,minimapLineColor:e.FINAL_CONFIG.chart.zoom.minimap.lineColor,minimapSelectedColorOpacity:e.FINAL_CONFIG.chart.zoom.minimap.selectedColorOpacity,minimapSelectedIndex:a.selectedSerieIndex,minimapIndicatorColor:e.FINAL_CONFIG.chart.zoom.minimap.indicatorColor,max:a.maxX,min:0,valueStart:a.slicer.start,valueEnd:a.slicer.end,start:a.slicer.start,"onUpdate:start":n[2]||(n[2]=l=>a.slicer.start=l),end:a.slicer.end,"onUpdate:end":n[3]||(n[3]=l=>a.slicer.end=l),onReset:e.refreshSlicer,onTrapMouse:e.selectMinimapIndex},{"reset-action":q(({reset:l})=>[W(t.$slots,"reset-action",le(ie({reset:l})),void 0,!0)]),_:3},8,["background","fontSize","useResetSlot","labelLeft","labelRight","textColor","inputColor","selectColor","borderColor","minimap","smoothMinimap","minimapSelectedColor","minimapSelectionRadius","minimapLineColor","minimapSelectedColorOpacity","minimapSelectedIndex","minimapIndicatorColor","max","valueStart","valueEnd","start","end","onReset","onTrapMouse"])):u("",!0),e.FINAL_CONFIG.chart.legend.show?(i(),s("div",{key:8,ref:"chartLegend",class:"vue-ui-xy-legend",style:_(`font-size:${e.FINAL_CONFIG.chart.legend.fontSize}px`)},[(i(!0),s(k,null,A(e.absoluteDataset,(l,d)=>(i(),s("div",{key:`div_legend_item_${d}`,onClick:r=>e.segregate(l),class:Z({"vue-ui-xy-legend-item":!0,"vue-ui-xy-legend-item-segregated":a.segregatedSeries.includes(l.id)})},[a.icons[l.type]==="line"?(i(),s("svg",Ul,[p("rect",{x:"0",y:"7",rx:"3",stroke:"none",height:"4",width:"20",fill:l.color},null,8,Zl),de(R,{plot:{x:10,y:9},radius:4,color:l.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(l.shape)?l.shape:"circle",stroke:e.FINAL_CONFIG.chart.backgroundColor,strokeWidth:1},null,8,["color","shape","stroke"])])):(i(),s("svg",Jl,[a.icons[l.type]==="bar"?(i(),s("rect",{key:0,x:"0",y:"0",rx:"1",height:"12",width:"12",stroke:"none",fill:l.color},null,8,Ql)):(i(),J(R,{key:1,plot:{x:6,y:6},radius:5,color:l.color,shape:["triangle","square","diamond","pentagon","hexagon","star"].includes(l.shape)?l.shape:"circle"},null,8,["color","shape"]))])),p("span",{style:_(`color:${e.FINAL_CONFIG.chart.legend.color}`)},$(l.name),5)],10,ql))),128))],4)):(i(),s("div",Kl,[W(t.$slots,"legend",{legend:e.absoluteDataset},void 0,!0)],512)),t.$slots.source?(i(),s("div",ei,[W(t.$slots,"source",{},void 0,!0)],512)):u("",!0),de(H,{show:a.mutableConfig.showTooltip&&a.isTooltip,backgroundColor:e.FINAL_CONFIG.chart.tooltip.backgroundColor,color:e.FINAL_CONFIG.chart.tooltip.color,fontSize:e.FINAL_CONFIG.chart.tooltip.fontSize,borderRadius:e.FINAL_CONFIG.chart.tooltip.borderRadius,borderColor:e.FINAL_CONFIG.chart.tooltip.borderColor,borderWidth:e.FINAL_CONFIG.chart.tooltip.borderWidth,backgroundOpacity:e.FINAL_CONFIG.chart.tooltip.backgroundOpacity,position:e.FINAL_CONFIG.chart.tooltip.position,offsetY:e.FINAL_CONFIG.chart.tooltip.offsetY,parent:t.$refs.chart,content:e.tooltipContent,isCustom:e.FINAL_CONFIG.chart.tooltip.customFormat&&typeof e.FINAL_CONFIG.chart.tooltip.customFormat=="function"},{"tooltip-before":q(()=>[W(t.$slots,"tooltip-before",le(ie({...e.dataTooltipSlot})),void 0,!0)]),"tooltip-after":q(()=>[W(t.$slots,"tooltip-after",le(ie({...e.dataTooltipSlot})),void 0,!0)]),_:3},8,["show","backgroundColor","color","fontSize","borderRadius","borderColor","borderWidth","backgroundOpacity","position","offsetY","parent","content","isCustom"]),e.isDataset?(i(),J(L,{key:11,hideDetails:"",config:{open:a.mutableConfig.showTable,maxHeight:1e4,body:{backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color},head:{backgroundColor:e.FINAL_CONFIG.chart.backgroundColor,color:e.FINAL_CONFIG.chart.color}}},{content:q(()=>[p("div",{style:_(`${a.isPrinting?"":"max-height:400px"};overflow:auto;width:100%;margin-top:48px`)},[p("div",ti,[Ee(p("input",{type:"checkbox","onUpdate:modelValue":n[4]||(n[4]=l=>a.showSparklineTable=l)},null,512),[[Be,a.showSparklineTable]]),p("div",{onClick:n[5]||(n[5]=l=>a.showSparklineTable=!a.showSparklineTable),style:{cursor:"pointer"}},[de(w,{name:"chartLine",size:20,stroke:e.FINAL_CONFIG.chart.color},null,8,["stroke"])])]),a.showSparklineTable?(i(),J(x,{key:`sparkline_${a.segregateStep}`,dataset:e.tableSparklineDataset,config:e.tableSparklineConfig},null,8,["dataset","config"])):(i(),J(j,{key:`table_${a.tableStep}`,colNames:e.dataTable.colNames,head:e.dataTable.head,body:e.dataTable.body,config:e.dataTable.config,title:`${e.FINAL_CONFIG.chart.title.text}${e.FINAL_CONFIG.chart.title.subtitle.text?` : ${e.FINAL_CONFIG.chart.title.subtitle.text}`:""}`,onClose:n[6]||(n[6]=l=>a.mutableConfig.showTable=!1)},{th:q(({th:l})=>[p("div",{innerHTML:l},null,8,ai)]),td:q(({td:l})=>[He($(isNaN(Number(l))?l:e.dataLabel({p:e.FINAL_CONFIG.chart.labels.prefix,v:l,s:e.FINAL_CONFIG.chart.labels.suffix,r:e.FINAL_CONFIG.table.rounding})),1)]),_:1},8,["colNames","head","body","config","title"]))],4)]),_:1},8,["config"])):u("",!0)],14,la)}const hi=Fe(aa,[["render",li],["__scopeId","data-v-843e93cc"]]);export{hi as default};
